{
    "absolute_path_to_file_in_container": "/jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JadlerHandler.java",
    "errors": [
        {
            "line_number": 38,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JadlerHandler.java:[38,4] error: method does not override or implement a method from a supertype",
            "additional_info": "",
            "file_name": "JadlerHandler.java",
            "BCs": [],
            "Additions": [],
            "uid": "398d875e-82a8-5908-84da-ca7ef3e6e032"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * Copyright (c) 2012 - 2016 Jadler contributors\n * This program is made available under the terms of the MIT License.\n */\npackage net.jadler.stubbing.server.jetty;\n\nimport net.jadler.stubbing.StubResponse;\nimport net.jadler.RequestManager;\nimport org.eclipse.jetty.server.Request;\nimport org.eclipse.jetty.server.handler.AbstractHandler;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport net.jadler.KeyValues;\nimport org.apache.commons.lang.Validate;\n\n\n/**\n * Jetty Handler which handles all http communication by returning an http response according to a stub response\n * obtained from a {@link RequestManager} instance.\n */\nclass JadlerHandler extends AbstractHandler {\n\n    private final RequestManager requestManager;\n\n    \n    /**\n     * @param requestManager request manager instance to retrieve stub responses\n     */\n    JadlerHandler(final RequestManager requestManager) {\n        Validate.notNull(requestManager, \"requestManager cannot be null\");\n        this.requestManager = requestManager;\n    }\n\n\n    @Override\n    public void handle(final String target, final Request baseRequest, final HttpServletRequest request,\n            final HttpServletResponse response) throws IOException, ServletException {\n\n        final net.jadler.Request req = RequestUtils.convert(request);\n        final StubResponse stubResponse = this.requestManager.provideStubResponseFor(req);\n        \n        response.setStatus(stubResponse.getStatus());\n        this.insertResponseHeaders(stubResponse.getHeaders(), response);        \n        \n        baseRequest.setHandled(true);\n        \n        this.processDelay(stubResponse.getDelay());\n        this.insertResponseBody(stubResponse.getBody(), response);\n    }\n\n    \n    private void insertResponseBody(final byte[] body, final HttpServletResponse response) throws IOException {\n        if (body.length > 0) {\n            final OutputStream os = response.getOutputStream();\n            os.write(body);\n        }\n    }\n\n    \n    private void insertResponseHeaders(final KeyValues headers, final HttpServletResponse response) {\n        for (final String key: headers.getKeys()) {\n            \n            for (final String value: headers.getValues(key)) {\n                response.addHeader(key, value);\n            }\n        }\n    }\n\n\n    private void processDelay(final long delay) {\n        if (delay > 0) {\n            try {\n                Thread.sleep(delay);\n            } catch (final InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }\n    }\n}\n'''\nThe error is caused by a change in the API of the dependency: jetty-server 8.1.11.v20130520->11.0.8. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n~~ SUPERTYPE_REMOVED <- org.eclipse.jetty.server.Request\n++ METHOD_ADDED_TO_INTERFACE <- org.eclipse.jetty.server.Connector\n-- org.eclipse.jetty.server.nio.SelectChannelConnector\n-- org.eclipse.jetty.server.Connector.setPort\n-- org.eclipse.jetty.server.LocalConnector.getLocalPort\n-- org.eclipse.jetty.server.Connector.getLocalPort\n++ public int org.eclipse.jetty.server.HttpChannel.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendDateHeader(boolean)\n++ public int org.eclipse.jetty.server.AbstractNetworkConnector.getLocalPort()\n++ public Request org.eclipse.jetty.server.Request(org.eclipse.jetty.server.HttpChannel,org.eclipse.jetty.server.HttpInput)\n++ public abstract int org.eclipse.jetty.server.NetworkConnector.getLocalPort()\n++ public int org.eclipse.jetty.server.ServerConnector.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendServerVersion(boolean)\n++ public void org.eclipse.jetty.server.AbstractNetworkConnector.setPort(int)\n\nThe error is triggered in the following specific lines in the previous code:\n    @Override\nwith the following error message:\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JadlerHandler.java:[38,4] error: method does not override or implement a method from a supertype\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "    @Override",
    "error_message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JadlerHandler.java:[38,4] error: method does not override or implement a method from a supertype",
    "api_diff": "~~ SUPERTYPE_REMOVED <- org.eclipse.jetty.server.Request\n++ METHOD_ADDED_TO_INTERFACE <- org.eclipse.jetty.server.Connector\n-- org.eclipse.jetty.server.nio.SelectChannelConnector\n-- org.eclipse.jetty.server.Connector.setPort\n-- org.eclipse.jetty.server.LocalConnector.getLocalPort\n-- org.eclipse.jetty.server.Connector.getLocalPort\n++ public int org.eclipse.jetty.server.HttpChannel.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendDateHeader(boolean)\n++ public int org.eclipse.jetty.server.AbstractNetworkConnector.getLocalPort()\n++ public Request org.eclipse.jetty.server.Request(org.eclipse.jetty.server.HttpChannel,org.eclipse.jetty.server.HttpInput)\n++ public abstract int org.eclipse.jetty.server.NetworkConnector.getLocalPort()\n++ public int org.eclipse.jetty.server.ServerConnector.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendServerVersion(boolean)\n++ public void org.eclipse.jetty.server.AbstractNetworkConnector.setPort(int)",
    "original_code": "/*\n * Copyright (c) 2012 - 2016 Jadler contributors\n * This program is made available under the terms of the MIT License.\n */\npackage net.jadler.stubbing.server.jetty;\n\nimport net.jadler.stubbing.StubResponse;\nimport net.jadler.RequestManager;\nimport org.eclipse.jetty.server.Request;\nimport org.eclipse.jetty.server.handler.AbstractHandler;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport net.jadler.KeyValues;\nimport org.apache.commons.lang.Validate;\n\n\n/**\n * Jetty Handler which handles all http communication by returning an http response according to a stub response\n * obtained from a {@link RequestManager} instance.\n */\nclass JadlerHandler extends AbstractHandler {\n\n    private final RequestManager requestManager;\n\n    \n    /**\n     * @param requestManager request manager instance to retrieve stub responses\n     */\n    JadlerHandler(final RequestManager requestManager) {\n        Validate.notNull(requestManager, \"requestManager cannot be null\");\n        this.requestManager = requestManager;\n    }\n\n\n    @Override\n    public void handle(final String target, final Request baseRequest, final HttpServletRequest request,\n            final HttpServletResponse response) throws IOException, ServletException {\n\n        final net.jadler.Request req = RequestUtils.convert(request);\n        final StubResponse stubResponse = this.requestManager.provideStubResponseFor(req);\n        \n        response.setStatus(stubResponse.getStatus());\n        this.insertResponseHeaders(stubResponse.getHeaders(), response);        \n        \n        baseRequest.setHandled(true);\n        \n        this.processDelay(stubResponse.getDelay());\n        this.insertResponseBody(stubResponse.getBody(), response);\n    }\n\n    \n    private void insertResponseBody(final byte[] body, final HttpServletResponse response) throws IOException {\n        if (body.length > 0) {\n            final OutputStream os = response.getOutputStream();\n            os.write(body);\n        }\n    }\n\n    \n    private void insertResponseHeaders(final KeyValues headers, final HttpServletResponse response) {\n        for (final String key: headers.getKeys()) {\n            \n            for (final String value: headers.getValues(key)) {\n                response.addHeader(key, value);\n            }\n        }\n    }\n\n\n    private void processDelay(final long delay) {\n        if (delay > 0) {\n            try {\n                Thread.sleep(delay);\n            } catch (final InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }\n    }\n}",
    "project": "jadler",
    "libraryName": "jetty-server",
    "libraryGroupID": "org.eclipse.jetty",
    "newVersion": "11.0.8",
    "previousVersion": "8.1.11.v20130520",
    "breakingCommit": "d3af06df4613be146bb9f8034e1a8a3098050c82"
}