{
    "absolute_path_to_file_in_container": "/guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java",
    "errors": [
        {
            "line_number": 19,
            "message": "[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[19,46] error: package org.apache.struts2.dispatcher.ng.filter does not exist",
            "additional_info": "",
            "file_name": "Struts2FactoryTest.java",
            "BCs": [],
            "Additions": [],
            "uid": "60a6d453-a7bc-5a76-ac42-e944719f80e2"
        },
        {
            "line_number": 55,
            "message": "[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[55,19] error: cannot find symbol",
            "additional_info": "[ERROR]  class StrutsPrepareAndExecuteFilter",
            "file_name": "Struts2FactoryTest.java",
            "BCs": [
                {
                    "element": "org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public StrutsPrepareAndExecuteFilter org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter()"
            ],
            "uid": "3f7b393e-7843-5fe5-a4a6-2566d483ef5a"
        },
        {
            "line_number": 57,
            "message": "[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[57,35] error: cannot find symbol",
            "additional_info": "[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <args> -rf :guice-struts2",
            "file_name": "Struts2FactoryTest.java",
            "BCs": [],
            "Additions": [],
            "uid": "825eb490-724d-57be-8a2b-ccfcf94c4c6d"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * Copyright (C) 2010 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage com.google.inject.struts2;\n\nimport org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter;\nimport com.google.inject.AbstractModule;\nimport com.google.inject.Guice;\nimport com.google.inject.Injector;\nimport com.google.inject.Module;\nimport com.google.inject.Provides;\nimport com.google.inject.servlet.GuiceServletContextListener;\nimport com.google.inject.servlet.ServletModule;\nimport java.util.Date;\nimport junit.framework.TestCase;\n\n/**\n * Test for Struts2Factory\n *\n * @author benmccann.com\n */\npublic class Struts2FactoryTest extends TestCase {\n\n  private static final Date TODAY = new Date();\n\n  public static class TestListener extends GuiceServletContextListener {\n\n    private final Module module;\n\n    public TestListener(Module module) {\n      this.module = module;\n    }\n\n    @Override\n    protected Injector getInjector() {\n      return Guice.createInjector(\n          new Struts2GuicePluginModule(),\n          new ServletModule() {\n            @Override\n            protected void configureServlets() {\n              // Struts 2 setup\n              bind(StrutsPrepareAndExecuteFilter.class)\n                  .in(com.google.inject.Singleton.class);\n              filter(\"/*\").through(StrutsPrepareAndExecuteFilter.class);\n            }\n          },\n          module);\n    }\n  }\n\n  public void testStruts2Factory() {\n    Struts2Factory s2Factory = new Struts2Factory();\n    TestListener testListener =\n        new TestListener(\n            new AbstractModule() {\n\n              @Provides\n              @SuppressWarnings(\"unused\")\n              Date provideDate() {\n                return TODAY;\n              }\n            });\n    assertEquals(TODAY, testListener.getInjector().getInstance(Date.class));\n    assertEquals(TODAY, s2Factory.buildBean(Date.class, null));\n  }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: struts2-core 2.3.37->2.5.30. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n++ public StrutsPrepareAndExecuteFilter org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter()\n\nThe error is triggered in the following specific lines in the previous code:\nimport org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter;\n              bind(StrutsPrepareAndExecuteFilter.class)\n              filter(\"/*\").through(StrutsPrepareAndExecuteFilter.class);\nwith the following error message:\n[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[19,46] error: package org.apache.struts2.dispatcher.ng.filter does not exist\n[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[55,19] error: cannot find symbol[ERROR]  class StrutsPrepareAndExecuteFilter\n[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[57,35] error: cannot find symbol[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <args> -rf :guice-struts2\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter;\n              bind(StrutsPrepareAndExecuteFilter.class)\n              filter(\"/*\").through(StrutsPrepareAndExecuteFilter.class);",
    "error_message": "[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[19,46] error: package org.apache.struts2.dispatcher.ng.filter does not exist\n[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[55,19] error: cannot find symbol[ERROR]  class StrutsPrepareAndExecuteFilter\n[ERROR] /guice/extensions/struts2/test/com/google/inject/struts2/Struts2FactoryTest.java:[57,35] error: cannot find symbol[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <args> -rf :guice-struts2",
    "api_diff": "-- org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n++ public StrutsPrepareAndExecuteFilter org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter()",
    "original_code": "/*\n * Copyright (C) 2010 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage com.google.inject.struts2;\n\nimport org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter;\nimport com.google.inject.AbstractModule;\nimport com.google.inject.Guice;\nimport com.google.inject.Injector;\nimport com.google.inject.Module;\nimport com.google.inject.Provides;\nimport com.google.inject.servlet.GuiceServletContextListener;\nimport com.google.inject.servlet.ServletModule;\nimport java.util.Date;\nimport junit.framework.TestCase;\n\n/**\n * Test for Struts2Factory\n *\n * @author benmccann.com\n */\npublic class Struts2FactoryTest extends TestCase {\n\n  private static final Date TODAY = new Date();\n\n  public static class TestListener extends GuiceServletContextListener {\n\n    private final Module module;\n\n    public TestListener(Module module) {\n      this.module = module;\n    }\n\n    @Override\n    protected Injector getInjector() {\n      return Guice.createInjector(\n          new Struts2GuicePluginModule(),\n          new ServletModule() {\n            @Override\n            protected void configureServlets() {\n              // Struts 2 setup\n              bind(StrutsPrepareAndExecuteFilter.class)\n                  .in(com.google.inject.Singleton.class);\n              filter(\"/*\").through(StrutsPrepareAndExecuteFilter.class);\n            }\n          },\n          module);\n    }\n  }\n\n  public void testStruts2Factory() {\n    Struts2Factory s2Factory = new Struts2Factory();\n    TestListener testListener =\n        new TestListener(\n            new AbstractModule() {\n\n              @Provides\n              @SuppressWarnings(\"unused\")\n              Date provideDate() {\n                return TODAY;\n              }\n            });\n    assertEquals(TODAY, testListener.getInjector().getInstance(Date.class));\n    assertEquals(TODAY, s2Factory.buildBean(Date.class, null));\n  }\n}\n",
    "project": "guice",
    "libraryName": "struts2-core",
    "libraryGroupID": "org.apache.struts",
    "newVersion": "2.5.30",
    "previousVersion": "2.3.37",
    "breakingCommit": "979d6237a50840cd925cc1a33c415ffbbbc42846"
}