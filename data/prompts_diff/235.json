{
    "absolute_path_to_file_in_container": "/openfire-hazelcast-plugin/src/java/org/jivesoftware/openfire/plugin/util/cluster/HazelcastClusterNodeInfo.java",
    "errors": [
        {
            "line_number": 24,
            "message": "[ERROR] /openfire-hazelcast-plugin/src/java/org/jivesoftware/openfire/plugin/util/cluster/HazelcastClusterNodeInfo.java:[24,26] cannot find symbol",
            "additional_info": "  symbol:   class Member\n  location: package com.hazelcast.core",
            "file_name": "HazelcastClusterNodeInfo.java",
            "BCs": [
                {
                    "element": "com.hazelcast.core.Cluster",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "com.hazelcast.core.Member",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null com.hazelcast.cluster.Member",
                "++ public abstract interface null com.hazelcast.cluster.Member"
            ],
            "uid": "fd88940d-7fe5-5243-9e0e-45f3d4d8efb5"
        },
        {
            "line_number": 41,
            "message": "[ERROR] /openfire-hazelcast-plugin/src/java/org/jivesoftware/openfire/plugin/util/cluster/HazelcastClusterNodeInfo.java:[41,43] cannot find symbol",
            "additional_info": "  symbol:   class Member\n  location: class org.jivesoftware.openfire.plugin.util.cluster.HazelcastClusterNodeInfo",
            "file_name": "HazelcastClusterNodeInfo.java",
            "BCs": [
                {
                    "element": "com.hazelcast.core.Cluster",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "com.hazelcast.core.Member",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null com.hazelcast.cluster.Member",
                "++ public abstract interface null com.hazelcast.cluster.Member"
            ],
            "uid": "dafc6862-4053-5061-ab81-9e167dde0ac8"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * Copyright (C) 1999-2009 Jive Software. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.jivesoftware.openfire.plugin.util.cluster;\n\nimport org.jivesoftware.openfire.cluster.ClusterManager;\nimport org.jivesoftware.openfire.cluster.ClusterNodeInfo;\nimport org.jivesoftware.openfire.cluster.NodeID;\nimport org.jivesoftware.openfire.plugin.util.cache.ClusteredCacheFactory;\n\nimport com.hazelcast.core.Member;\n\n/**\n * Cluster Node information as provided by Hazelcast.\n *\n * @author Tom Evans\n * @author Gaston Dombiak\n */\npublic class HazelcastClusterNodeInfo implements ClusterNodeInfo {\n\n    public static final String HOST_NAME_ATTRIBUTE = \"hostname\";\n    public static final String NODE_ID_ATTRIBUTE = \"node-id\";\n    private final String hostname;\n    private final NodeID nodeID;\n    private final long joinedTime;\n    private final boolean seniorMember;\n\n    public HazelcastClusterNodeInfo(final Member member, final long joinedTime) {\n        this.hostname = member.getStringAttribute(HOST_NAME_ATTRIBUTE) + \" (\" + member.getSocketAddress().getHostString() + \")\";\n        this.nodeID = ClusteredCacheFactory.getNodeID(member);\n        this.joinedTime = joinedTime;\n        this.seniorMember = ClusterManager.getSeniorClusterMember().equals(nodeID);\n    }\n\n    public String getHostName() {\n        return hostname;\n    }\n\n    public NodeID getNodeID() {\n        return nodeID;\n    }\n\n    public long getJoinedTime() {\n        return joinedTime;\n    }\n\n    public boolean isSeniorMember() {\n        return seniorMember;\n    }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: hazelcast 3.12.5->5.1. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- com.hazelcast.core.Cluster\n-- com.hazelcast.config.MaxSizeConfig\n-- com.hazelcast.core.Member\n-- com.hazelcast.core.MemberAttributeEvent\n-- com.hazelcast.core.MembershipEvent\n-- com.hazelcast.core.MembershipListener\n-- com.hazelcast.core.IMap\n-- com.hazelcast.core.MapEvent\n++ public MembershipEvent com.hazelcast.cluster.MembershipEvent(com.hazelcast.cluster.Cluster,com.hazelcast.cluster.Member,int,java.util.Set)\n++ public null com.hazelcast.cluster.MembershipEvent\n++ public abstract interface null com.hazelcast.cluster.Member\n++ public null com.hazelcast.map.MapEvent\n++ public abstract interface null com.hazelcast.cluster.MembershipListener\n++ public MapEvent com.hazelcast.map.MapEvent(java.lang.Object,com.hazelcast.cluster.Member,int,int)\n++ public abstract interface null com.hazelcast.map.IMap\n\nThe error is triggered in the following specific lines in the previous code:\nimport com.hazelcast.core.Member;\n    public HazelcastClusterNodeInfo(final Member member, final long joinedTime) {\nwith the following error message:\n[ERROR] /openfire-hazelcast-plugin/src/java/org/jivesoftware/openfire/plugin/util/cluster/HazelcastClusterNodeInfo.java:[24,26] cannot find symbol  symbol:   class Member\n  location: package com.hazelcast.core\n[ERROR] /openfire-hazelcast-plugin/src/java/org/jivesoftware/openfire/plugin/util/cluster/HazelcastClusterNodeInfo.java:[41,43] cannot find symbol  symbol:   class Member\n  location: class org.jivesoftware.openfire.plugin.util.cluster.HazelcastClusterNodeInfo\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import com.hazelcast.core.Member;\n    public HazelcastClusterNodeInfo(final Member member, final long joinedTime) {",
    "error_message": "[ERROR] /openfire-hazelcast-plugin/src/java/org/jivesoftware/openfire/plugin/util/cluster/HazelcastClusterNodeInfo.java:[24,26] cannot find symbol  symbol:   class Member\n  location: package com.hazelcast.core\n[ERROR] /openfire-hazelcast-plugin/src/java/org/jivesoftware/openfire/plugin/util/cluster/HazelcastClusterNodeInfo.java:[41,43] cannot find symbol  symbol:   class Member\n  location: class org.jivesoftware.openfire.plugin.util.cluster.HazelcastClusterNodeInfo",
    "api_diff": "-- com.hazelcast.core.Cluster\n-- com.hazelcast.config.MaxSizeConfig\n-- com.hazelcast.core.Member\n-- com.hazelcast.core.MemberAttributeEvent\n-- com.hazelcast.core.MembershipEvent\n-- com.hazelcast.core.MembershipListener\n-- com.hazelcast.core.IMap\n-- com.hazelcast.core.MapEvent\n++ public MembershipEvent com.hazelcast.cluster.MembershipEvent(com.hazelcast.cluster.Cluster,com.hazelcast.cluster.Member,int,java.util.Set)\n++ public null com.hazelcast.cluster.MembershipEvent\n++ public abstract interface null com.hazelcast.cluster.Member\n++ public null com.hazelcast.map.MapEvent\n++ public abstract interface null com.hazelcast.cluster.MembershipListener\n++ public MapEvent com.hazelcast.map.MapEvent(java.lang.Object,com.hazelcast.cluster.Member,int,int)\n++ public abstract interface null com.hazelcast.map.IMap",
    "original_code": "/*\n * Copyright (C) 1999-2009 Jive Software. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.jivesoftware.openfire.plugin.util.cluster;\n\nimport org.jivesoftware.openfire.cluster.ClusterManager;\nimport org.jivesoftware.openfire.cluster.ClusterNodeInfo;\nimport org.jivesoftware.openfire.cluster.NodeID;\nimport org.jivesoftware.openfire.plugin.util.cache.ClusteredCacheFactory;\n\nimport com.hazelcast.core.Member;\n\n/**\n * Cluster Node information as provided by Hazelcast.\n *\n * @author Tom Evans\n * @author Gaston Dombiak\n */\npublic class HazelcastClusterNodeInfo implements ClusterNodeInfo {\n\n    public static final String HOST_NAME_ATTRIBUTE = \"hostname\";\n    public static final String NODE_ID_ATTRIBUTE = \"node-id\";\n    private final String hostname;\n    private final NodeID nodeID;\n    private final long joinedTime;\n    private final boolean seniorMember;\n\n    public HazelcastClusterNodeInfo(final Member member, final long joinedTime) {\n        this.hostname = member.getStringAttribute(HOST_NAME_ATTRIBUTE) + \" (\" + member.getSocketAddress().getHostString() + \")\";\n        this.nodeID = ClusteredCacheFactory.getNodeID(member);\n        this.joinedTime = joinedTime;\n        this.seniorMember = ClusterManager.getSeniorClusterMember().equals(nodeID);\n    }\n\n    public String getHostName() {\n        return hostname;\n    }\n\n    public NodeID getNodeID() {\n        return nodeID;\n    }\n\n    public long getJoinedTime() {\n        return joinedTime;\n    }\n\n    public boolean isSeniorMember() {\n        return seniorMember;\n    }\n}\n",
    "project": "openfire-hazelcast-plugin",
    "libraryName": "hazelcast",
    "libraryGroupID": "com.hazelcast",
    "newVersion": "5.1",
    "previousVersion": "3.12.5",
    "breakingCommit": "9545eb3a2687afc77b0a7da4d5d621807618d95c"
}