{
    "absolute_path_to_file_in_container": "/assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java",
    "errors": [
        {
            "line_number": 16,
            "message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[16,59] package org.assertj.core.internal.bytebuddy.dynamic.loading does not exist",
            "additional_info": "",
            "file_name": "ClassLoadingStrategyFactory.java",
            "BCs": [
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "69e5ddd5-5ac1-59ae-ad63-9b08fad9ba74"
        },
        {
            "line_number": 17,
            "message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[17,59] package org.assertj.core.internal.bytebuddy.dynamic.loading does not exist",
            "additional_info": "",
            "file_name": "ClassLoadingStrategyFactory.java",
            "BCs": [
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "69e5ddd5-5ac1-59ae-ad63-9b08fad9ba74"
        },
        {
            "line_number": 29,
            "message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[29,12] cannot find symbol",
            "additional_info": "  symbol:   class ClassLoadingStrategy\n  location: class org.assertj.vavr.api.ClassLoadingStrategyFactory",
            "file_name": "ClassLoadingStrategyFactory.java",
            "BCs": [
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "999bd01d-1c60-5ac0-9999-2724c3d6287b"
        },
        {
            "line_number": 30,
            "message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[30,26] package ClassInjector does not exist",
            "additional_info": "",
            "file_name": "ClassLoadingStrategyFactory.java",
            "BCs": [
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "be1b7ff6-8f98-5cf2-93f6-a8a84979c710"
        },
        {
            "line_number": 31,
            "message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[31,40] package ClassLoadingStrategy does not exist",
            "additional_info": "",
            "file_name": "ClassLoadingStrategyFactory.java",
            "BCs": [
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "a54b87b0-ae03-58c0-91ef-090d671c7b2b"
        },
        {
            "line_number": 32,
            "message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[32,33] package ClassInjector does not exist",
            "additional_info": "",
            "file_name": "ClassLoadingStrategyFactory.java",
            "BCs": [
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "be1b7ff6-8f98-5cf2-93f6-a8a84979c710"
        },
        {
            "line_number": 34,
            "message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[34,44] package ClassLoadingStrategy does not exist",
            "additional_info": "",
            "file_name": "ClassLoadingStrategyFactory.java",
            "BCs": [
                {
                    "element": "org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "a54b87b0-ae03-58c0-91ef-090d671c7b2b"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n * the License. You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations under the License.\n *\n * Copyright 2017-2022 the original author or authors.\n */\npackage org.assertj.vavr.api;\n\nimport io.vavr.control.Try;\nimport org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector;\nimport org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy;\n\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Method;\n\nclass ClassLoadingStrategyFactory {\n\n    private static final MethodHandles.Lookup LOOKUP = MethodHandles.lookup();\n    private static final Method PRIVATE_LOOKUP_IN = Try.of(\n        () -> MethodHandles.class.getMethod(\"privateLookupIn\", Class.class, MethodHandles.Lookup.class)\n    ).getOrElse((Method) null);\n\n    static ClassLoadingStrategy<ClassLoader> classLoadingStrategy(Class<?> assertClass) {\n        if (ClassInjector.UsingReflection.isAvailable()) {\n            return ClassLoadingStrategy.Default.INJECTION;\n        } else if (ClassInjector.UsingLookup.isAvailable() && PRIVATE_LOOKUP_IN != null) {\n            try {\n                return ClassLoadingStrategy.UsingLookup.of(PRIVATE_LOOKUP_IN.invoke(null, assertClass, LOOKUP));\n            } catch (Exception e) {\n                throw new IllegalStateException(\"Could not access package of \" + assertClass, e);\n            }\n        } else {\n            throw new IllegalStateException(\"No code generation strategy available\");\n        }\n    }\n\n}\n\n'''\nThe error is caused by a change in the API of the dependency: assertj-core 3.22.0->3.23.0. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- org.assertj.core.internal.bytebuddy.TypeCache\n-- org.assertj.core.internal.bytebuddy.ByteBuddy\n-- org.assertj.core.internal.bytebuddy.implementation.auxiliary.AuxiliaryType\n-- org.assertj.core.internal.bytebuddy.implementation.Implementation\n-- org.assertj.core.internal.bytebuddy.implementation.bind.annotation.RuntimeType\n-- org.assertj.core.internal.bytebuddy.implementation.bind.annotation.This\n-- org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy\n-- org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector\n\nThe error is triggered in the following specific lines in the previous code:\nimport org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector;\nimport org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy;\n    static ClassLoadingStrategy<ClassLoader> classLoadingStrategy(Class<?> assertClass) {\n        if (ClassInjector.UsingReflection.isAvailable()) {\n            return ClassLoadingStrategy.Default.INJECTION;\n        } else if (ClassInjector.UsingLookup.isAvailable() && PRIVATE_LOOKUP_IN != null) {\n                return ClassLoadingStrategy.UsingLookup.of(PRIVATE_LOOKUP_IN.invoke(null, assertClass, LOOKUP));\nwith the following error message:\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[16,59] package org.assertj.core.internal.bytebuddy.dynamic.loading does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[17,59] package org.assertj.core.internal.bytebuddy.dynamic.loading does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[29,12] cannot find symbol  symbol:   class ClassLoadingStrategy\n  location: class org.assertj.vavr.api.ClassLoadingStrategyFactory\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[30,26] package ClassInjector does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[31,40] package ClassLoadingStrategy does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[32,33] package ClassInjector does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[34,44] package ClassLoadingStrategy does not exist\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector;\nimport org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy;\n    static ClassLoadingStrategy<ClassLoader> classLoadingStrategy(Class<?> assertClass) {\n        if (ClassInjector.UsingReflection.isAvailable()) {\n            return ClassLoadingStrategy.Default.INJECTION;\n        } else if (ClassInjector.UsingLookup.isAvailable() && PRIVATE_LOOKUP_IN != null) {\n                return ClassLoadingStrategy.UsingLookup.of(PRIVATE_LOOKUP_IN.invoke(null, assertClass, LOOKUP));",
    "error_message": "[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[16,59] package org.assertj.core.internal.bytebuddy.dynamic.loading does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[17,59] package org.assertj.core.internal.bytebuddy.dynamic.loading does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[29,12] cannot find symbol  symbol:   class ClassLoadingStrategy\n  location: class org.assertj.vavr.api.ClassLoadingStrategyFactory\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[30,26] package ClassInjector does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[31,40] package ClassLoadingStrategy does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[32,33] package ClassInjector does not exist\n[ERROR] /assertj-vavr/src/main/java/org/assertj/vavr/api/ClassLoadingStrategyFactory.java:[34,44] package ClassLoadingStrategy does not exist",
    "api_diff": "-- org.assertj.core.internal.bytebuddy.TypeCache\n-- org.assertj.core.internal.bytebuddy.ByteBuddy\n-- org.assertj.core.internal.bytebuddy.implementation.auxiliary.AuxiliaryType\n-- org.assertj.core.internal.bytebuddy.implementation.Implementation\n-- org.assertj.core.internal.bytebuddy.implementation.bind.annotation.RuntimeType\n-- org.assertj.core.internal.bytebuddy.implementation.bind.annotation.This\n-- org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy\n-- org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector",
    "original_code": "/*\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n * the License. You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations under the License.\n *\n * Copyright 2017-2022 the original author or authors.\n */\npackage org.assertj.vavr.api;\n\nimport io.vavr.control.Try;\nimport org.assertj.core.internal.bytebuddy.dynamic.loading.ClassInjector;\nimport org.assertj.core.internal.bytebuddy.dynamic.loading.ClassLoadingStrategy;\n\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Method;\n\nclass ClassLoadingStrategyFactory {\n\n    private static final MethodHandles.Lookup LOOKUP = MethodHandles.lookup();\n    private static final Method PRIVATE_LOOKUP_IN = Try.of(\n        () -> MethodHandles.class.getMethod(\"privateLookupIn\", Class.class, MethodHandles.Lookup.class)\n    ).getOrElse((Method) null);\n\n    static ClassLoadingStrategy<ClassLoader> classLoadingStrategy(Class<?> assertClass) {\n        if (ClassInjector.UsingReflection.isAvailable()) {\n            return ClassLoadingStrategy.Default.INJECTION;\n        } else if (ClassInjector.UsingLookup.isAvailable() && PRIVATE_LOOKUP_IN != null) {\n            try {\n                return ClassLoadingStrategy.UsingLookup.of(PRIVATE_LOOKUP_IN.invoke(null, assertClass, LOOKUP));\n            } catch (Exception e) {\n                throw new IllegalStateException(\"Could not access package of \" + assertClass, e);\n            }\n        } else {\n            throw new IllegalStateException(\"No code generation strategy available\");\n        }\n    }\n\n}\n",
    "project": "assertj-vavr",
    "libraryName": "assertj-core",
    "libraryGroupID": "org.assertj",
    "newVersion": "3.23.0",
    "previousVersion": "3.22.0",
    "breakingCommit": "1cc7071371953a7880c2c2c3a5a32c36af7f88f9"
}