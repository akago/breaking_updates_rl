{
    "absolute_path_to_file_in_container": "/jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java",
    "errors": [
        {
            "line_number": 10,
            "message": "[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[10,24] package javax.mvc.locale does not exist",
            "additional_info": "",
            "file_name": "QueryParamLocaleResolver.java",
            "BCs": [
                {
                    "element": "javax.mvc.locale.LocaleResolver",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "804a2cbb-c13f-54e6-921f-57c94ff47fa9"
        },
        {
            "line_number": 11,
            "message": "[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[11,24] package javax.mvc.locale does not exist",
            "additional_info": "",
            "file_name": "QueryParamLocaleResolver.java",
            "BCs": [
                {
                    "element": "javax.mvc.locale.LocaleResolver",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "804a2cbb-c13f-54e6-921f-57c94ff47fa9"
        },
        {
            "line_number": 35,
            "message": "[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[35,50] cannot find symbol",
            "additional_info": "  symbol: class LocaleResolver",
            "file_name": "QueryParamLocaleResolver.java",
            "BCs": [
                {
                    "element": "javax.mvc.locale.LocaleResolver",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "5f79adc8-9690-5caf-8218-9c526b88e5b2"
        },
        {
            "line_number": 41,
            "message": "[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[41,39] cannot find symbol",
            "additional_info": "  symbol:   class LocaleResolverContext\n  location: class com.example.web.QueryParamLocaleResolver",
            "file_name": "QueryParamLocaleResolver.java",
            "BCs": [
                {
                    "element": "javax.mvc.locale.LocaleResolverContext",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "javax.mvc.locale.LocaleResolver",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "14e58a3f-e191-57f9-ad1a-0d148637782e"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\npackage com.example.web;\n// https://www.mvc-spec.org/learn/cookbook/custom_localeresolver_en.html\n\nimport java.util.Locale;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.annotation.Priority;\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.mvc.locale.LocaleResolver;\nimport javax.mvc.locale.LocaleResolverContext;\nimport javax.ws.rs.core.UriInfo;\n\n/**\n * Resolver to get the {@link Locale} to use from the requests query param <i>lang</i>.\n *\n * In case there is no request param with this name, the {@link Locale} will be resolved by a higher prioritised\n * implementation.\n *\n * Example usage:\n * <pre>\n * {@code\n * # Use default locale\n * curl -X GET <your-url>\n *\n * # Set german locale by query param\n * curl -X GET <your-url>?lang=de-DE\n * }\n * </pre>\n *\n * @author Tobias Erdle\n */\n@Priority(1)\n@ApplicationScoped\npublic class QueryParamLocaleResolver implements LocaleResolver {\n    \n    @Inject\n    Logger log;\n    \n    @Override\n    public Locale resolveLocale(final LocaleResolverContext context) {\n        final String queryLang = context.getUriInfo()\n                .getQueryParameters()\n                .getFirst(\"lang\");\n        log.log(Level.INFO, \"QueryParamLocaleResolver::resolveLocale:lang:{0}\", queryLang);\n        return queryLang != null ? Locale.forLanguageTag(queryLang) : null;\n    }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: jakarta.mvc-api 1.1.0->2.0.1. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- javax.mvc.RedirectScoped\n-- javax.mvc.Controller\n-- javax.mvc.Models\n-- javax.mvc.binding.BindingResult\n-- javax.mvc.View\n-- javax.mvc.security.CsrfProtected\n-- javax.mvc.binding.MvcBinding\n-- javax.mvc.MvcContext\n-- javax.mvc.UriRef\n-- javax.mvc.event.BeforeControllerEvent\n-- javax.mvc.event.BeforeProcessViewEvent\n-- javax.mvc.event.AfterControllerEvent\n-- javax.mvc.event.AfterProcessViewEvent\n-- javax.mvc.event.ControllerRedirectEvent\n-- javax.mvc.locale.LocaleResolver\n-- javax.mvc.locale.LocaleResolverContext\n++ public abstract interface null jakarta.mvc.event.AfterControllerEvent\n++ public abstract interface null jakarta.mvc.binding.MvcBinding\n++ public abstract interface null jakarta.mvc.event.ControllerRedirectEvent\n++ public abstract interface null jakarta.mvc.Models\n++ public abstract interface null jakarta.mvc.UriRef\n++ public abstract interface null jakarta.mvc.View\n++ public abstract interface null jakarta.mvc.RedirectScoped\n++ public abstract interface null jakarta.mvc.event.BeforeProcessViewEvent\n++ public abstract interface null jakarta.mvc.Controller\n++ public abstract interface null jakarta.mvc.event.AfterProcessViewEvent\n++ public abstract interface null jakarta.mvc.event.BeforeControllerEvent\n++ public abstract interface null jakarta.mvc.security.CsrfProtected\n\nThe error is triggered in the following specific lines in the previous code:\nimport javax.mvc.locale.LocaleResolver;\nimport javax.mvc.locale.LocaleResolverContext;\npublic class QueryParamLocaleResolver implements LocaleResolver {\n    public Locale resolveLocale(final LocaleResolverContext context) {\nwith the following error message:\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[10,24] package javax.mvc.locale does not exist\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[11,24] package javax.mvc.locale does not exist\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[35,50] cannot find symbol  symbol: class LocaleResolver\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[41,39] cannot find symbol  symbol:   class LocaleResolverContext\n  location: class com.example.web.QueryParamLocaleResolver\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import javax.mvc.locale.LocaleResolver;\nimport javax.mvc.locale.LocaleResolverContext;\npublic class QueryParamLocaleResolver implements LocaleResolver {\n    public Locale resolveLocale(final LocaleResolverContext context) {",
    "error_message": "[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[10,24] package javax.mvc.locale does not exist\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[11,24] package javax.mvc.locale does not exist\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[35,50] cannot find symbol  symbol: class LocaleResolver\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/QueryParamLocaleResolver.java:[41,39] cannot find symbol  symbol:   class LocaleResolverContext\n  location: class com.example.web.QueryParamLocaleResolver",
    "api_diff": "-- javax.mvc.RedirectScoped\n-- javax.mvc.Controller\n-- javax.mvc.Models\n-- javax.mvc.binding.BindingResult\n-- javax.mvc.View\n-- javax.mvc.security.CsrfProtected\n-- javax.mvc.binding.MvcBinding\n-- javax.mvc.MvcContext\n-- javax.mvc.UriRef\n-- javax.mvc.event.BeforeControllerEvent\n-- javax.mvc.event.BeforeProcessViewEvent\n-- javax.mvc.event.AfterControllerEvent\n-- javax.mvc.event.AfterProcessViewEvent\n-- javax.mvc.event.ControllerRedirectEvent\n-- javax.mvc.locale.LocaleResolver\n-- javax.mvc.locale.LocaleResolverContext\n++ public abstract interface null jakarta.mvc.event.AfterControllerEvent\n++ public abstract interface null jakarta.mvc.binding.MvcBinding\n++ public abstract interface null jakarta.mvc.event.ControllerRedirectEvent\n++ public abstract interface null jakarta.mvc.Models\n++ public abstract interface null jakarta.mvc.UriRef\n++ public abstract interface null jakarta.mvc.View\n++ public abstract interface null jakarta.mvc.RedirectScoped\n++ public abstract interface null jakarta.mvc.event.BeforeProcessViewEvent\n++ public abstract interface null jakarta.mvc.Controller\n++ public abstract interface null jakarta.mvc.event.AfterProcessViewEvent\n++ public abstract interface null jakarta.mvc.event.BeforeControllerEvent\n++ public abstract interface null jakarta.mvc.security.CsrfProtected",
    "original_code": "package com.example.web;\n// https://www.mvc-spec.org/learn/cookbook/custom_localeresolver_en.html\n\nimport java.util.Locale;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.annotation.Priority;\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.mvc.locale.LocaleResolver;\nimport javax.mvc.locale.LocaleResolverContext;\nimport javax.ws.rs.core.UriInfo;\n\n/**\n * Resolver to get the {@link Locale} to use from the requests query param <i>lang</i>.\n *\n * In case there is no request param with this name, the {@link Locale} will be resolved by a higher prioritised\n * implementation.\n *\n * Example usage:\n * <pre>\n * {@code\n * # Use default locale\n * curl -X GET <your-url>\n *\n * # Set german locale by query param\n * curl -X GET <your-url>?lang=de-DE\n * }\n * </pre>\n *\n * @author Tobias Erdle\n */\n@Priority(1)\n@ApplicationScoped\npublic class QueryParamLocaleResolver implements LocaleResolver {\n    \n    @Inject\n    Logger log;\n    \n    @Override\n    public Locale resolveLocale(final LocaleResolverContext context) {\n        final String queryLang = context.getUriInfo()\n                .getQueryParameters()\n                .getFirst(\"lang\");\n        log.log(Level.INFO, \"QueryParamLocaleResolver::resolveLocale:lang:{0}\", queryLang);\n        return queryLang != null ? Locale.forLanguageTag(queryLang) : null;\n    }\n}\n",
    "project": "jakartaee-mvc-sample",
    "libraryName": "jakarta.mvc-api",
    "libraryGroupID": "jakarta.mvc",
    "newVersion": "2.0.1",
    "previousVersion": "1.1.0",
    "breakingCommit": "5cf5a482bd430d81257b4ecd85b3d4f7da911621"
}