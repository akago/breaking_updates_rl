{
    "absolute_path_to_file_in_container": "/docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java",
    "errors": [
        {
            "line_number": 15,
            "message": "[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[15,22] package org.cactoos.io does not exist",
            "additional_info": "",
            "file_name": "DigestedFlowable.java",
            "BCs": [],
            "Additions": [],
            "uid": "859d6deb-1385-5539-85f4-0a0682ccf430"
        },
        {
            "line_number": 16,
            "message": "[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[16,24] package org.cactoos.text does not exist",
            "additional_info": "",
            "file_name": "DigestedFlowable.java",
            "BCs": [],
            "Additions": [],
            "uid": "2c54f636-ea02-5a20-9004-1e52285c5249"
        },
        {
            "line_number": 57,
            "message": "[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[57,39] cannot find symbol",
            "additional_info": "  symbol:   class HexOf\n  location: class com.artipie.docker.misc.DigestedFlowable",
            "file_name": "DigestedFlowable.java",
            "BCs": [],
            "Additions": [],
            "uid": "c322580d-c13c-5e66-b6f7-2617e675a138"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * The MIT License (MIT) Copyright (c) 2020-2021 artipie.com\n * https://github.com/artipie/docker-adapter/LICENSE.txt\n */\npackage com.artipie.docker.misc;\n\nimport com.artipie.asto.Remaining;\nimport com.artipie.asto.ext.Digests;\nimport com.artipie.docker.Digest;\nimport io.reactivex.Flowable;\nimport java.nio.ByteBuffer;\nimport java.security.MessageDigest;\nimport java.util.Objects;\nimport java.util.concurrent.atomic.AtomicReference;\nimport org.cactoos.io.BytesOf;\nimport org.cactoos.text.HexOf;\nimport org.reactivestreams.Publisher;\nimport org.reactivestreams.Subscriber;\n\n/**\n * {@link Flowable} that calculates digest of origin {@link Publisher} bytes when they pass by.\n *\n * @since 0.12\n */\npublic final class DigestedFlowable extends Flowable<ByteBuffer> {\n\n    /**\n     * Origin publisher.\n     */\n    private final Publisher<ByteBuffer> origin;\n\n    /**\n     * Calculated digest.\n     */\n    private final AtomicReference<Digest> dig;\n\n    /**\n     * Ctor.\n     *\n     * @param origin Origin publisher.\n     */\n    public DigestedFlowable(final Publisher<ByteBuffer> origin) {\n        this.dig = new AtomicReference<>();\n        this.origin = origin;\n    }\n\n    @Override\n    public void subscribeActual(final Subscriber<? super ByteBuffer> subscriber) {\n        final MessageDigest sha = Digests.SHA256.get();\n        Flowable.fromPublisher(this.origin).map(\n            buf -> {\n                sha.update(new Remaining(buf, true).bytes());\n                return buf;\n            }\n        ).doOnComplete(\n            () -> this.dig.set(\n                new Digest.Sha256(new HexOf(new BytesOf(sha.digest())).asString())\n            )\n        ).subscribe(subscriber);\n    }\n\n    /**\n     * Calculated digest.\n     *\n     * @return Digest.\n     */\n    public Digest digest() {\n        return Objects.requireNonNull(this.dig.get(), \"Digest is not yet calculated.\");\n    }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: http v0.25->v1.1.0. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n\n\nThe error is triggered in the following specific lines in the previous code:\nimport org.cactoos.io.BytesOf;\nimport org.cactoos.text.HexOf;\n                new Digest.Sha256(new HexOf(new BytesOf(sha.digest())).asString())\nwith the following error message:\n[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[15,22] package org.cactoos.io does not exist\n[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[16,24] package org.cactoos.text does not exist\n[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[57,39] cannot find symbol  symbol:   class HexOf\n  location: class com.artipie.docker.misc.DigestedFlowable\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import org.cactoos.io.BytesOf;\nimport org.cactoos.text.HexOf;\n                new Digest.Sha256(new HexOf(new BytesOf(sha.digest())).asString())",
    "error_message": "[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[15,22] package org.cactoos.io does not exist\n[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[16,24] package org.cactoos.text does not exist\n[ERROR] /docker-adapter/src/main/java/com/artipie/docker/misc/DigestedFlowable.java:[57,39] cannot find symbol  symbol:   class HexOf\n  location: class com.artipie.docker.misc.DigestedFlowable",
    "api_diff": "",
    "original_code": "/*\n * The MIT License (MIT) Copyright (c) 2020-2021 artipie.com\n * https://github.com/artipie/docker-adapter/LICENSE.txt\n */\npackage com.artipie.docker.misc;\n\nimport com.artipie.asto.Remaining;\nimport com.artipie.asto.ext.Digests;\nimport com.artipie.docker.Digest;\nimport io.reactivex.Flowable;\nimport java.nio.ByteBuffer;\nimport java.security.MessageDigest;\nimport java.util.Objects;\nimport java.util.concurrent.atomic.AtomicReference;\nimport org.cactoos.io.BytesOf;\nimport org.cactoos.text.HexOf;\nimport org.reactivestreams.Publisher;\nimport org.reactivestreams.Subscriber;\n\n/**\n * {@link Flowable} that calculates digest of origin {@link Publisher} bytes when they pass by.\n *\n * @since 0.12\n */\npublic final class DigestedFlowable extends Flowable<ByteBuffer> {\n\n    /**\n     * Origin publisher.\n     */\n    private final Publisher<ByteBuffer> origin;\n\n    /**\n     * Calculated digest.\n     */\n    private final AtomicReference<Digest> dig;\n\n    /**\n     * Ctor.\n     *\n     * @param origin Origin publisher.\n     */\n    public DigestedFlowable(final Publisher<ByteBuffer> origin) {\n        this.dig = new AtomicReference<>();\n        this.origin = origin;\n    }\n\n    @Override\n    public void subscribeActual(final Subscriber<? super ByteBuffer> subscriber) {\n        final MessageDigest sha = Digests.SHA256.get();\n        Flowable.fromPublisher(this.origin).map(\n            buf -> {\n                sha.update(new Remaining(buf, true).bytes());\n                return buf;\n            }\n        ).doOnComplete(\n            () -> this.dig.set(\n                new Digest.Sha256(new HexOf(new BytesOf(sha.digest())).asString())\n            )\n        ).subscribe(subscriber);\n    }\n\n    /**\n     * Calculated digest.\n     *\n     * @return Digest.\n     */\n    public Digest digest() {\n        return Objects.requireNonNull(this.dig.get(), \"Digest is not yet calculated.\");\n    }\n}\n",
    "project": "docker-adapter",
    "libraryName": "http",
    "libraryGroupID": "com.artipie",
    "newVersion": "v1.1.0",
    "previousVersion": "v0.25",
    "breakingCommit": "fab0f8d4f7322fa6da914c8c9f30baf740d46b99"
}