{
    "absolute_path_to_file_in_container": "/cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java",
    "errors": [
        {
            "line_number": 10,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[10,25] package javax.interceptor does not exist",
            "additional_info": "",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "3ee63d63-e4e1-5b37-aef3-f0e98ed7a338"
        },
        {
            "line_number": 11,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[11,25] package javax.interceptor does not exist",
            "additional_info": "",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "3ee63d63-e4e1-5b37-aef3-f0e98ed7a338"
        },
        {
            "line_number": 12,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[12,25] package javax.interceptor does not exist",
            "additional_info": "",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "3ee63d63-e4e1-5b37-aef3-f0e98ed7a338"
        },
        {
            "line_number": 18,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[18,2] cannot find symbol",
            "additional_info": "  symbol: class Interceptor",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "859fcd87-c3cd-5f47-8dd9-cb96a8d85da8"
        },
        {
            "line_number": 27,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[27,6] cannot find symbol",
            "additional_info": "  symbol:   class AroundInvoke\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.AroundInvoke",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.AroundInvoke",
                "++ public abstract interface null jakarta.interceptor.AroundInvoke",
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "bfea19a9-6a07-56a1-a215-52ef92570b20"
        },
        {
            "line_number": 28,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[28,38] cannot find symbol",
            "additional_info": "  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.InvocationContext",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "fd7ddcab-b4b7-5307-a9e7-6ca6c7e0d315"
        },
        {
            "line_number": 40,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[40,36] cannot find symbol",
            "additional_info": "  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.InvocationContext",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "fd7ddcab-b4b7-5307-a9e7-6ca6c7e0d315"
        },
        {
            "line_number": 55,
            "message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[55,29] cannot find symbol",
            "additional_info": "  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor",
            "file_name": "CallRedirectionInterceptor.java",
            "BCs": [
                {
                    "element": "javax.interceptor.InvocationContext",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                },
                {
                    "element": "javax.interceptor.Interceptor",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public abstract interface null jakarta.interceptor.Interceptor",
                "++ public abstract interface null jakarta.interceptor.Interceptor"
            ],
            "uid": "fd7ddcab-b4b7-5307-a9e7-6ca6c7e0d315"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\npackage de.hilling.junit.cdi.scope;\n\nimport de.hilling.junit.cdi.util.ReflectionsUtils;\nimport org.apache.deltaspike.core.api.provider.BeanProvider;\n\nimport javax.annotation.Priority;\nimport javax.enterprise.context.Dependent;\nimport javax.enterprise.inject.Instance;\nimport javax.inject.Inject;\nimport javax.interceptor.AroundInvoke;\nimport javax.interceptor.Interceptor;\nimport javax.interceptor.InvocationContext;\nimport java.io.Serializable;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\n@Replaceable\n@Interceptor\n@Dependent\n@Priority(0)\npublic class CallRedirectionInterceptor implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Inject\n    private Instance<InvocationTargetManager> invocationTargetManager;\n\n    @AroundInvoke\n    public Object invokeMockableBean(InvocationContext ctx) throws Throwable {\n        Class<?> javaClass = ReflectionsUtils.getOriginalClass(ctx.getTarget().getClass());\n        if (invocationTargetManager.get().isAlternativeEnabled(javaClass)) {\n            return callAlternative(ctx, javaClass);\n        } else if (invocationTargetManager.get().isMockEnabled(javaClass)) {\n            return callMock(ctx, javaClass);\n        } else {\n            return ctx.proceed();\n        }\n    }\n\n    @SuppressWarnings(\"squid:S00112\")\n    private Object callAlternative(InvocationContext ctx, Class<?> javaClass) throws Throwable {\n        Method method = ctx.getMethod();\n        Object alternative = BeanProvider\n                .getContextualReference(invocationTargetManager.get().alternativeFor(javaClass));\n        try {\n            Method alternativeMethod = alternative.getClass().getMethod(method.getName(), method.getParameterTypes());\n            return alternativeMethod.invoke(alternative, ctx.getParameters());\n        } catch (NoSuchMethodException nme) {\n            throw new IllegalStateException(\"method \" + method.getName() + \" not found on alternative \" + alternative);\n        } catch (InvocationTargetException ite) {\n            throw ite.getCause();\n        }\n    }\n\n    @SuppressWarnings(\"squid:S00112\")\n    private Object callMock(InvocationContext ctx, Class<?> javaClass) throws Throwable {\n        try {\n            return ctx.getMethod().invoke(invocationTargetManager.get().mock(javaClass), ctx.getParameters());\n        } catch (InvocationTargetException ite) {\n            throw ite.getCause();\n        }\n    }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: jakarta.interceptor-api 1.2.5->2.0.0. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- javax.interceptor.InterceptorBinding\n-- javax.interceptor.Interceptor\n-- javax.interceptor.AroundInvoke\n-- javax.interceptor.InvocationContext\n++ public abstract interface null jakarta.interceptor.InterceptorBinding\n++ public abstract interface null jakarta.interceptor.Interceptor\n++ public abstract interface null jakarta.interceptor.AroundInvoke\n\nThe error is triggered in the following specific lines in the previous code:\nimport javax.interceptor.AroundInvoke;\nimport javax.interceptor.Interceptor;\nimport javax.interceptor.InvocationContext;\n@Interceptor\n    @AroundInvoke\n    public Object invokeMockableBean(InvocationContext ctx) throws Throwable {\n    private Object callAlternative(InvocationContext ctx, Class<?> javaClass) throws Throwable {\n    private Object callMock(InvocationContext ctx, Class<?> javaClass) throws Throwable {\nwith the following error message:\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[10,25] package javax.interceptor does not exist\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[11,25] package javax.interceptor does not exist\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[12,25] package javax.interceptor does not exist\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[18,2] cannot find symbol  symbol: class Interceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[27,6] cannot find symbol  symbol:   class AroundInvoke\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[28,38] cannot find symbol  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[40,36] cannot find symbol  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[55,29] cannot find symbol  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import javax.interceptor.AroundInvoke;\nimport javax.interceptor.Interceptor;\nimport javax.interceptor.InvocationContext;\n@Interceptor\n    @AroundInvoke\n    public Object invokeMockableBean(InvocationContext ctx) throws Throwable {\n    private Object callAlternative(InvocationContext ctx, Class<?> javaClass) throws Throwable {\n    private Object callMock(InvocationContext ctx, Class<?> javaClass) throws Throwable {",
    "error_message": "[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[10,25] package javax.interceptor does not exist\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[11,25] package javax.interceptor does not exist\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[12,25] package javax.interceptor does not exist\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[18,2] cannot find symbol  symbol: class Interceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[27,6] cannot find symbol  symbol:   class AroundInvoke\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[28,38] cannot find symbol  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[40,36] cannot find symbol  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor\n[ERROR] /cdi-test/cdi-test-core/src/main/java/de/hilling/junit/cdi/scope/CallRedirectionInterceptor.java:[55,29] cannot find symbol  symbol:   class InvocationContext\n  location: class de.hilling.junit.cdi.scope.CallRedirectionInterceptor",
    "api_diff": "-- javax.interceptor.InterceptorBinding\n-- javax.interceptor.Interceptor\n-- javax.interceptor.AroundInvoke\n-- javax.interceptor.InvocationContext\n++ public abstract interface null jakarta.interceptor.InterceptorBinding\n++ public abstract interface null jakarta.interceptor.Interceptor\n++ public abstract interface null jakarta.interceptor.AroundInvoke",
    "original_code": "package de.hilling.junit.cdi.scope;\n\nimport de.hilling.junit.cdi.util.ReflectionsUtils;\nimport org.apache.deltaspike.core.api.provider.BeanProvider;\n\nimport javax.annotation.Priority;\nimport javax.enterprise.context.Dependent;\nimport javax.enterprise.inject.Instance;\nimport javax.inject.Inject;\nimport javax.interceptor.AroundInvoke;\nimport javax.interceptor.Interceptor;\nimport javax.interceptor.InvocationContext;\nimport java.io.Serializable;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\n@Replaceable\n@Interceptor\n@Dependent\n@Priority(0)\npublic class CallRedirectionInterceptor implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Inject\n    private Instance<InvocationTargetManager> invocationTargetManager;\n\n    @AroundInvoke\n    public Object invokeMockableBean(InvocationContext ctx) throws Throwable {\n        Class<?> javaClass = ReflectionsUtils.getOriginalClass(ctx.getTarget().getClass());\n        if (invocationTargetManager.get().isAlternativeEnabled(javaClass)) {\n            return callAlternative(ctx, javaClass);\n        } else if (invocationTargetManager.get().isMockEnabled(javaClass)) {\n            return callMock(ctx, javaClass);\n        } else {\n            return ctx.proceed();\n        }\n    }\n\n    @SuppressWarnings(\"squid:S00112\")\n    private Object callAlternative(InvocationContext ctx, Class<?> javaClass) throws Throwable {\n        Method method = ctx.getMethod();\n        Object alternative = BeanProvider\n                .getContextualReference(invocationTargetManager.get().alternativeFor(javaClass));\n        try {\n            Method alternativeMethod = alternative.getClass().getMethod(method.getName(), method.getParameterTypes());\n            return alternativeMethod.invoke(alternative, ctx.getParameters());\n        } catch (NoSuchMethodException nme) {\n            throw new IllegalStateException(\"method \" + method.getName() + \" not found on alternative \" + alternative);\n        } catch (InvocationTargetException ite) {\n            throw ite.getCause();\n        }\n    }\n\n    @SuppressWarnings(\"squid:S00112\")\n    private Object callMock(InvocationContext ctx, Class<?> javaClass) throws Throwable {\n        try {\n            return ctx.getMethod().invoke(invocationTargetManager.get().mock(javaClass), ctx.getParameters());\n        } catch (InvocationTargetException ite) {\n            throw ite.getCause();\n        }\n    }\n}\n",
    "project": "cdi-test",
    "libraryName": "jakarta.interceptor-api",
    "libraryGroupID": "jakarta.interceptor",
    "newVersion": "2.0.0",
    "previousVersion": "1.2.5",
    "breakingCommit": "3f30dfff617fd652412260ecf648a25769a27101"
}