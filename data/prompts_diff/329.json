{
    "absolute_path_to_file_in_container": "/jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java",
    "errors": [
        {
            "line_number": 14,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[14,35] error: cannot find symbol",
            "additional_info": "[ERROR]   symbol:   class SelectChannelConnector\n[ERROR]   location: package org.eclipse.jetty.server.nio",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [
                {
                    "element": "org.eclipse.jetty.server.Connector",
                    "nature": "ADDITION",
                    "kind": "METHOD_ADDED_TO_INTERFACE"
                },
                {
                    "element": "org.eclipse.jetty.server.nio.SelectChannelConnector",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "684f2aee-0179-55d0-bb05-d40ae7ad5809"
        },
        {
            "line_number": 33,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[33,19] error: cannot find symbol",
            "additional_info": "[ERROR]   symbol:   method setSendServerVersion(boolean)\n[ERROR]   location: variable server of type Server",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [],
            "Additions": [],
            "uid": "ee62c3bf-e864-534c-a746-0bf576d9b4a7"
        },
        {
            "line_number": 34,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[34,19] error: cannot find symbol",
            "additional_info": "[ERROR]   symbol:   method setSendDateHeader(boolean)\n[ERROR]   location: variable server of type Server",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [],
            "Additions": [],
            "uid": "f8167d85-7607-5253-8f49-68a7d67e51ca"
        },
        {
            "line_number": 36,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[36,33] error: cannot find symbol",
            "additional_info": "[ERROR]   symbol:   class SelectChannelConnector\n[ERROR]   location: class JettyStubHttpServer",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [
                {
                    "element": "org.eclipse.jetty.server.Connector",
                    "nature": "ADDITION",
                    "kind": "METHOD_ADDED_TO_INTERFACE"
                },
                {
                    "element": "org.eclipse.jetty.server.nio.SelectChannelConnector",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "ecfe49c2-786c-58fb-809b-7728a55281ca"
        },
        {
            "line_number": 37,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[37,26] error: cannot find symbol",
            "additional_info": "[ERROR]   symbol:   method setPort(int)\n[ERROR]   location: variable httpConnector of type Connector",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [
                {
                    "element": "org.eclipse.jetty.server.Connector.setPort",
                    "nature": "DELETION",
                    "kind": "METHOD_REMOVED"
                },
                {
                    "element": "org.eclipse.jetty.server.Connector",
                    "nature": "ADDITION",
                    "kind": "METHOD_ADDED_TO_INTERFACE"
                }
            ],
            "Additions": [],
            "uid": "88566844-4c69-553f-b363-5fa1121382bd"
        },
        {
            "line_number": 80,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[80,28] error: cannot find symbol",
            "additional_info": "[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <args> -rf :jadler-jetty",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [],
            "Additions": [],
            "uid": "e1b62d32-c56c-5c98-a682-7b314bd52755"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * Copyright (c) 2012 - 2016 Jadler contributors\n * This program is made available under the terms of the MIT License.\n */\npackage net.jadler.stubbing.server.jetty;\n\nimport net.jadler.RequestManager;\nimport net.jadler.stubbing.server.StubHttpServer;\nimport org.eclipse.jetty.server.Server;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.apache.commons.lang.Validate;\nimport org.eclipse.jetty.server.Connector;\nimport org.eclipse.jetty.server.nio.SelectChannelConnector;\n\n\n/**\n * Default stub http server implementation using Jetty as an http server.\n */\npublic class JettyStubHttpServer implements StubHttpServer {\n\n    private static final Logger logger = LoggerFactory.getLogger(JettyStubHttpServer.class);\n    private final Server server;\n    private final Connector httpConnector;\n\n    public JettyStubHttpServer() {\n        this(0);\n    }\n    \n\n    public JettyStubHttpServer(final int port) {\n        this.server = new Server();\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n        \n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        server.addConnector(this.httpConnector);\n    }\n    \n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void registerRequestManager(final RequestManager ruleProvider) {\n        Validate.notNull(ruleProvider, \"ruleProvider cannot be null\");\n\n        server.setHandler(new JadlerHandler(ruleProvider));\n    }\n    \n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void start() throws Exception {\n        logger.debug(\"starting jetty\");\n        server.start();\n        logger.debug(\"jetty started\");\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void stop() throws Exception {\n        logger.debug(\"stopping jetty\");\n        server.stop();\n        logger.debug(\"jetty stopped\");\n    }\n    \n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public int getPort() {\n        return httpConnector.getLocalPort();\n    }\n}\n'''\nThe error is caused by a change in the API of the dependency: jetty-server 8.1.11.v20130520->9.4.41.v20210516. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n++ METHOD_ADDED_TO_INTERFACE <- org.eclipse.jetty.server.Connector\n-- org.eclipse.jetty.server.nio.SelectChannelConnector\n-- org.eclipse.jetty.server.Connector.setPort\n\nThe error is triggered in the following specific lines in the previous code:\nimport org.eclipse.jetty.server.nio.SelectChannelConnector;\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        return httpConnector.getLocalPort();\nwith the following error message:\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[14,35] error: cannot find symbol[ERROR]   symbol:   class SelectChannelConnector\n[ERROR]   location: package org.eclipse.jetty.server.nio\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[33,19] error: cannot find symbol[ERROR]   symbol:   method setSendServerVersion(boolean)\n[ERROR]   location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[34,19] error: cannot find symbol[ERROR]   symbol:   method setSendDateHeader(boolean)\n[ERROR]   location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[36,33] error: cannot find symbol[ERROR]   symbol:   class SelectChannelConnector\n[ERROR]   location: class JettyStubHttpServer\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[37,26] error: cannot find symbol[ERROR]   symbol:   method setPort(int)\n[ERROR]   location: variable httpConnector of type Connector\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[80,28] error: cannot find symbol[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <args> -rf :jadler-jetty\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import org.eclipse.jetty.server.nio.SelectChannelConnector;\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        return httpConnector.getLocalPort();",
    "error_message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[14,35] error: cannot find symbol[ERROR]   symbol:   class SelectChannelConnector\n[ERROR]   location: package org.eclipse.jetty.server.nio\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[33,19] error: cannot find symbol[ERROR]   symbol:   method setSendServerVersion(boolean)\n[ERROR]   location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[34,19] error: cannot find symbol[ERROR]   symbol:   method setSendDateHeader(boolean)\n[ERROR]   location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[36,33] error: cannot find symbol[ERROR]   symbol:   class SelectChannelConnector\n[ERROR]   location: class JettyStubHttpServer\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[37,26] error: cannot find symbol[ERROR]   symbol:   method setPort(int)\n[ERROR]   location: variable httpConnector of type Connector\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[80,28] error: cannot find symbol[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <args> -rf :jadler-jetty",
    "api_diff": "++ METHOD_ADDED_TO_INTERFACE <- org.eclipse.jetty.server.Connector\n-- org.eclipse.jetty.server.nio.SelectChannelConnector\n-- org.eclipse.jetty.server.Connector.setPort",
    "original_code": "/*\n * Copyright (c) 2012 - 2016 Jadler contributors\n * This program is made available under the terms of the MIT License.\n */\npackage net.jadler.stubbing.server.jetty;\n\nimport net.jadler.RequestManager;\nimport net.jadler.stubbing.server.StubHttpServer;\nimport org.eclipse.jetty.server.Server;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.apache.commons.lang.Validate;\nimport org.eclipse.jetty.server.Connector;\nimport org.eclipse.jetty.server.nio.SelectChannelConnector;\n\n\n/**\n * Default stub http server implementation using Jetty as an http server.\n */\npublic class JettyStubHttpServer implements StubHttpServer {\n\n    private static final Logger logger = LoggerFactory.getLogger(JettyStubHttpServer.class);\n    private final Server server;\n    private final Connector httpConnector;\n\n    public JettyStubHttpServer() {\n        this(0);\n    }\n    \n\n    public JettyStubHttpServer(final int port) {\n        this.server = new Server();\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n        \n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        server.addConnector(this.httpConnector);\n    }\n    \n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void registerRequestManager(final RequestManager ruleProvider) {\n        Validate.notNull(ruleProvider, \"ruleProvider cannot be null\");\n\n        server.setHandler(new JadlerHandler(ruleProvider));\n    }\n    \n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void start() throws Exception {\n        logger.debug(\"starting jetty\");\n        server.start();\n        logger.debug(\"jetty started\");\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void stop() throws Exception {\n        logger.debug(\"stopping jetty\");\n        server.stop();\n        logger.debug(\"jetty stopped\");\n    }\n    \n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public int getPort() {\n        return httpConnector.getLocalPort();\n    }\n}",
    "project": "jadler",
    "libraryName": "jetty-server",
    "libraryGroupID": "org.eclipse.jetty",
    "newVersion": "9.4.41.v20210516",
    "previousVersion": "8.1.11.v20130520",
    "breakingCommit": "ae16b526695fe275ab5e6a1992916875d26da860"
}