{
    "absolute_path_to_file_in_container": "/jakartaee-mvc-sample/src/main/java/com/example/web/Messages.java",
    "errors": [
        {
            "line_number": 23,
            "message": "[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/Messages.java:[23,13] cannot find symbol",
            "additional_info": "  symbol:   class MvcContext\n  location: class Messages",
            "file_name": "Messages.java",
            "BCs": [
                {
                    "element": "javax.mvc.MvcContext",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "36c567e3-e52e-573e-917c-02a56484a09d"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n\nimport java.util.ResourceBundle;\nimport javax.enterprise.context.RequestScoped;\nimport javax.inject.Inject;\nimport javax.inject.Named;\nimport javax.mvc.MvcContext;\n//https://www.mvc-spec.org/learn/cookbook/multilang_en.html\n/**\n * Provides I18n messages for the UI per request. To get the correct locale, the method {@link MvcContext#getLocale()}\n * is used. This method uses the built-in {@link javax.mvc.locale.LocaleResolver} of the used MVC Implementation.\n *\n * @author Tobias Erdle\n * @see MvcContext#getLocale()\n * @see javax.mvc.locale.LocaleResolver\n */\n@RequestScoped\n@Named(\"msg\")\npublic class Messages {\n\n    private static final String BASE_NAME = \"messages\";\n\n    @Inject\n    private MvcContext mvcContext;\n\n    /**\n     * Get the assigned message to some key based on the {@link java.util.Locale} of the current request.\n     *\n     * @param key the message key to use\n     * @return the correct translation assigned to the key for the request locale, a fallback translation or a\n     * placeholder for unknown keys.\n     */\n    public final String get(final String key) {\n        final ResourceBundle bundle = ResourceBundle.getBundle(BASE_NAME, mvcContext.getLocale());\n\n        return bundle.containsKey(key) ? bundle.getString(key) : formatUnknownKey(key);\n    }\n\n    private static String formatUnknownKey(final String key) {\n        return String.format(\"???%s???\", key);\n    }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: jakarta.mvc-api 1.1.0->2.0.1. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- javax.mvc.RedirectScoped\n-- javax.mvc.Controller\n-- javax.mvc.Models\n-- javax.mvc.binding.BindingResult\n-- javax.mvc.View\n-- javax.mvc.security.CsrfProtected\n-- javax.mvc.binding.MvcBinding\n-- javax.mvc.MvcContext\n-- javax.mvc.UriRef\n-- javax.mvc.event.BeforeControllerEvent\n-- javax.mvc.event.BeforeProcessViewEvent\n-- javax.mvc.event.AfterControllerEvent\n-- javax.mvc.event.AfterProcessViewEvent\n-- javax.mvc.event.ControllerRedirectEvent\n-- javax.mvc.locale.LocaleResolver\n-- javax.mvc.locale.LocaleResolverContext\n++ public abstract interface null jakarta.mvc.event.AfterControllerEvent\n++ public abstract interface null jakarta.mvc.binding.MvcBinding\n++ public abstract interface null jakarta.mvc.event.ControllerRedirectEvent\n++ public abstract interface null jakarta.mvc.Models\n++ public abstract interface null jakarta.mvc.UriRef\n++ public abstract interface null jakarta.mvc.View\n++ public abstract interface null jakarta.mvc.RedirectScoped\n++ public abstract interface null jakarta.mvc.event.BeforeProcessViewEvent\n++ public abstract interface null jakarta.mvc.Controller\n++ public abstract interface null jakarta.mvc.event.AfterProcessViewEvent\n++ public abstract interface null jakarta.mvc.event.BeforeControllerEvent\n++ public abstract interface null jakarta.mvc.security.CsrfProtected\n\nThe error is triggered in the following specific lines in the previous code:\n    private MvcContext mvcContext;\nwith the following error message:\n[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/Messages.java:[23,13] cannot find symbol  symbol:   class MvcContext\n  location: class Messages\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "    private MvcContext mvcContext;",
    "error_message": "[ERROR] /jakartaee-mvc-sample/src/main/java/com/example/web/Messages.java:[23,13] cannot find symbol  symbol:   class MvcContext\n  location: class Messages",
    "api_diff": "-- javax.mvc.RedirectScoped\n-- javax.mvc.Controller\n-- javax.mvc.Models\n-- javax.mvc.binding.BindingResult\n-- javax.mvc.View\n-- javax.mvc.security.CsrfProtected\n-- javax.mvc.binding.MvcBinding\n-- javax.mvc.MvcContext\n-- javax.mvc.UriRef\n-- javax.mvc.event.BeforeControllerEvent\n-- javax.mvc.event.BeforeProcessViewEvent\n-- javax.mvc.event.AfterControllerEvent\n-- javax.mvc.event.AfterProcessViewEvent\n-- javax.mvc.event.ControllerRedirectEvent\n-- javax.mvc.locale.LocaleResolver\n-- javax.mvc.locale.LocaleResolverContext\n++ public abstract interface null jakarta.mvc.event.AfterControllerEvent\n++ public abstract interface null jakarta.mvc.binding.MvcBinding\n++ public abstract interface null jakarta.mvc.event.ControllerRedirectEvent\n++ public abstract interface null jakarta.mvc.Models\n++ public abstract interface null jakarta.mvc.UriRef\n++ public abstract interface null jakarta.mvc.View\n++ public abstract interface null jakarta.mvc.RedirectScoped\n++ public abstract interface null jakarta.mvc.event.BeforeProcessViewEvent\n++ public abstract interface null jakarta.mvc.Controller\n++ public abstract interface null jakarta.mvc.event.AfterProcessViewEvent\n++ public abstract interface null jakarta.mvc.event.BeforeControllerEvent\n++ public abstract interface null jakarta.mvc.security.CsrfProtected",
    "original_code": "\nimport java.util.ResourceBundle;\nimport javax.enterprise.context.RequestScoped;\nimport javax.inject.Inject;\nimport javax.inject.Named;\nimport javax.mvc.MvcContext;\n//https://www.mvc-spec.org/learn/cookbook/multilang_en.html\n/**\n * Provides I18n messages for the UI per request. To get the correct locale, the method {@link MvcContext#getLocale()}\n * is used. This method uses the built-in {@link javax.mvc.locale.LocaleResolver} of the used MVC Implementation.\n *\n * @author Tobias Erdle\n * @see MvcContext#getLocale()\n * @see javax.mvc.locale.LocaleResolver\n */\n@RequestScoped\n@Named(\"msg\")\npublic class Messages {\n\n    private static final String BASE_NAME = \"messages\";\n\n    @Inject\n    private MvcContext mvcContext;\n\n    /**\n     * Get the assigned message to some key based on the {@link java.util.Locale} of the current request.\n     *\n     * @param key the message key to use\n     * @return the correct translation assigned to the key for the request locale, a fallback translation or a\n     * placeholder for unknown keys.\n     */\n    public final String get(final String key) {\n        final ResourceBundle bundle = ResourceBundle.getBundle(BASE_NAME, mvcContext.getLocale());\n\n        return bundle.containsKey(key) ? bundle.getString(key) : formatUnknownKey(key);\n    }\n\n    private static String formatUnknownKey(final String key) {\n        return String.format(\"???%s???\", key);\n    }\n}\n",
    "project": "jakartaee-mvc-sample",
    "libraryName": "jakarta.mvc-api",
    "libraryGroupID": "jakarta.mvc",
    "newVersion": "2.0.1",
    "previousVersion": "1.1.0",
    "breakingCommit": "5cf5a482bd430d81257b4ecd85b3d4f7da911621"
}