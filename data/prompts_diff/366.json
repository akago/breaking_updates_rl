{
    "absolute_path_to_file_in_container": "/artifactory-plugin/src/main/java/org/jfrog/hudson/pipeline/common/executors/CreateDockerBuildExecutor.java",
    "errors": [
        {
            "line_number": 34,
            "message": "[ERROR] /artifactory-plugin/src/main/java/org/jfrog/hudson/pipeline/common/executors/CreateDockerBuildExecutor.java:[34,24] cannot find symbol",
            "additional_info": "  symbol:   method isAllBlank(java.lang.String,java.lang.String)\n  location: class org.apache.commons.lang3.StringUtils",
            "file_name": "CreateDockerBuildExecutor.java",
            "BCs": [],
            "Additions": [],
            "uid": "6d728e82-ca27-5d82-861b-e3d68d2924b1"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\npackage org.jfrog.hudson.pipeline.common.executors;\n\nimport hudson.EnvVars;\nimport hudson.FilePath;\nimport hudson.Launcher;\nimport hudson.model.Run;\nimport hudson.model.TaskListener;\nimport org.apache.commons.lang3.StringUtils;\nimport org.jfrog.hudson.pipeline.common.types.ArtifactoryServer;\nimport org.jfrog.hudson.pipeline.common.types.buildInfo.BuildInfo;\nimport org.jfrog.hudson.pipeline.common.types.deployers.CommonDeployer;\nimport org.jfrog.hudson.util.ExtractorUtils;\n\npublic class CreateDockerBuildExecutor extends BuildInfoProcessRunner {\n    private final ArtifactoryServer server;\n    private final String kanikoImageFile;\n    private final String jibImageFile;\n    private final String sourceRepo;\n\n    public CreateDockerBuildExecutor(ArtifactoryServer pipelineServer, BuildInfo buildInfo, Run<?, ?> build,\n                                     String kanikoImageFile, String jibImageFile, String sourceRepo, String javaArgs,\n                                     Launcher launcher, TaskListener listener, FilePath ws, EnvVars envVars) {\n        super(buildInfo, launcher, javaArgs, ws, \"\", \"\", envVars, listener, build);\n        this.kanikoImageFile = kanikoImageFile;\n        this.jibImageFile = jibImageFile;\n        this.sourceRepo = sourceRepo;\n        this.server = pipelineServer;\n    }\n\n    public void execute() throws Exception {\n        if (server == null) {\n            throw new IllegalStateException(\"Artifactory server must be configured\");\n        }\n        if (StringUtils.isAllBlank(kanikoImageFile, jibImageFile) || StringUtils.isNoneBlank(kanikoImageFile, jibImageFile)) {\n            throw new IllegalStateException(\"Exactly one of 'kanikoImageFile' or 'jibImageFile' must be configured\");\n        }\n        CommonDeployer deployer = new CommonDeployer();\n        deployer.setServer(server);\n        deployer.setRepo(sourceRepo);\n        FilePath tempDir = ExtractorUtils.createAndGetTempDir(ws);\n        EnvExtractor envExtractor = new CreateDockerBuildEnvExtractor(build, buildInfo, deployer, listener, launcher, tempDir, env, kanikoImageFile, jibImageFile);\n        super.execute(\"Create Docker Build\", \"org.jfrog.build.extractor.docker.extractor.BuildDockerCreator\", envExtractor, tempDir);\n    }\n\n    public BuildInfo getBuildInfo() {\n        return buildInfo;\n    }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: p4 1.3.8->1.11.5. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n++ protected ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(hudson.model.Item,java.lang.String,hudson.model.TaskListener)\n++ public ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(hudson.model.Item,java.lang.String,hudson.model.TaskListener,org.jenkinsci.plugins.p4.workspace.Workspace)\n++ public ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(org.jenkinsci.plugins.p4.credentials.P4BaseCredentials,hudson.model.TaskListener,org.jenkinsci.plugins.p4.workspace.Workspace)\n++ public ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(hudson.model.ItemGroup,java.lang.String,hudson.model.TaskListener,org.jenkinsci.plugins.p4.workspace.Workspace)\n\nThe error is triggered in the following specific lines in the previous code:\n        if (StringUtils.isAllBlank(kanikoImageFile, jibImageFile) || StringUtils.isNoneBlank(kanikoImageFile, jibImageFile)) {\nwith the following error message:\n[ERROR] /artifactory-plugin/src/main/java/org/jfrog/hudson/pipeline/common/executors/CreateDockerBuildExecutor.java:[34,24] cannot find symbol  symbol:   method isAllBlank(java.lang.String,java.lang.String)\n  location: class org.apache.commons.lang3.StringUtils\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "        if (StringUtils.isAllBlank(kanikoImageFile, jibImageFile) || StringUtils.isNoneBlank(kanikoImageFile, jibImageFile)) {",
    "error_message": "[ERROR] /artifactory-plugin/src/main/java/org/jfrog/hudson/pipeline/common/executors/CreateDockerBuildExecutor.java:[34,24] cannot find symbol  symbol:   method isAllBlank(java.lang.String,java.lang.String)\n  location: class org.apache.commons.lang3.StringUtils",
    "api_diff": "++ protected ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(hudson.model.Item,java.lang.String,hudson.model.TaskListener)\n++ public ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(hudson.model.Item,java.lang.String,hudson.model.TaskListener,org.jenkinsci.plugins.p4.workspace.Workspace)\n++ public ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(org.jenkinsci.plugins.p4.credentials.P4BaseCredentials,hudson.model.TaskListener,org.jenkinsci.plugins.p4.workspace.Workspace)\n++ public ClientHelper org.jenkinsci.plugins.p4.client.ClientHelper(hudson.model.ItemGroup,java.lang.String,hudson.model.TaskListener,org.jenkinsci.plugins.p4.workspace.Workspace)",
    "original_code": "package org.jfrog.hudson.pipeline.common.executors;\n\nimport hudson.EnvVars;\nimport hudson.FilePath;\nimport hudson.Launcher;\nimport hudson.model.Run;\nimport hudson.model.TaskListener;\nimport org.apache.commons.lang3.StringUtils;\nimport org.jfrog.hudson.pipeline.common.types.ArtifactoryServer;\nimport org.jfrog.hudson.pipeline.common.types.buildInfo.BuildInfo;\nimport org.jfrog.hudson.pipeline.common.types.deployers.CommonDeployer;\nimport org.jfrog.hudson.util.ExtractorUtils;\n\npublic class CreateDockerBuildExecutor extends BuildInfoProcessRunner {\n    private final ArtifactoryServer server;\n    private final String kanikoImageFile;\n    private final String jibImageFile;\n    private final String sourceRepo;\n\n    public CreateDockerBuildExecutor(ArtifactoryServer pipelineServer, BuildInfo buildInfo, Run<?, ?> build,\n                                     String kanikoImageFile, String jibImageFile, String sourceRepo, String javaArgs,\n                                     Launcher launcher, TaskListener listener, FilePath ws, EnvVars envVars) {\n        super(buildInfo, launcher, javaArgs, ws, \"\", \"\", envVars, listener, build);\n        this.kanikoImageFile = kanikoImageFile;\n        this.jibImageFile = jibImageFile;\n        this.sourceRepo = sourceRepo;\n        this.server = pipelineServer;\n    }\n\n    public void execute() throws Exception {\n        if (server == null) {\n            throw new IllegalStateException(\"Artifactory server must be configured\");\n        }\n        if (StringUtils.isAllBlank(kanikoImageFile, jibImageFile) || StringUtils.isNoneBlank(kanikoImageFile, jibImageFile)) {\n            throw new IllegalStateException(\"Exactly one of 'kanikoImageFile' or 'jibImageFile' must be configured\");\n        }\n        CommonDeployer deployer = new CommonDeployer();\n        deployer.setServer(server);\n        deployer.setRepo(sourceRepo);\n        FilePath tempDir = ExtractorUtils.createAndGetTempDir(ws);\n        EnvExtractor envExtractor = new CreateDockerBuildEnvExtractor(build, buildInfo, deployer, listener, launcher, tempDir, env, kanikoImageFile, jibImageFile);\n        super.execute(\"Create Docker Build\", \"org.jfrog.build.extractor.docker.extractor.BuildDockerCreator\", envExtractor, tempDir);\n    }\n\n    public BuildInfo getBuildInfo() {\n        return buildInfo;\n    }\n}\n",
    "project": "artifactory-plugin",
    "libraryName": "p4",
    "libraryGroupID": "org.jenkins-ci.plugins",
    "newVersion": "1.11.5",
    "previousVersion": "1.3.8",
    "breakingCommit": "b5b64613a1a650a5784ff39386b4e00e05e5c21c"
}