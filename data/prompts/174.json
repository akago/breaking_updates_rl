{
    "absolute_path_to_file_in_container": "/jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java",
    "errors": [
        {
            "line_number": 12,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[12,35] error: package org.eclipse.jetty.server.nio does not exist",
            "additional_info": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JadlerHandler.java:[25] error: JadlerHandler is not abstract and does not override abstract method handle(String,Request,HttpServletRequest,HttpServletResponse) in AbstractHandler",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [
                {
                    "element": "org.eclipse.jetty.server.Request",
                    "nature": "MUTATION",
                    "kind": "SUPERTYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public Request org.eclipse.jetty.server.Request(org.eclipse.jetty.server.HttpChannel,org.eclipse.jetty.server.HttpInput)"
            ],
            "uid": "d58abde4-2fa3-51ba-9e3a-68bd7d4c240c"
        },
        {
            "line_number": 33,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[33,19] error: cannot find symbol",
            "additional_info": "  symbol:   method setSendServerVersion(boolean)\n  location: variable server of type Server",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [],
            "Additions": [
                "++ public void org.eclipse.jetty.server.HttpConfiguration.setSendServerVersion(boolean)"
            ],
            "uid": "f1e7d9c4-461c-5fbd-b6e1-3a7700b2edcb"
        },
        {
            "line_number": 34,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[34,19] error: cannot find symbol",
            "additional_info": "  symbol:   method setSendDateHeader(boolean)\n  location: variable server of type Server",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [],
            "Additions": [
                "++ public void org.eclipse.jetty.server.HttpConfiguration.setSendDateHeader(boolean)"
            ],
            "uid": "640538e5-f030-53b7-abf1-dfcbdaf31a0d"
        },
        {
            "line_number": 36,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[36,33] error: cannot find symbol",
            "additional_info": "  symbol:   class SelectChannelConnector\n  location: class JettyStubHttpServer",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [
                {
                    "element": "org.eclipse.jetty.server.Connector",
                    "nature": "ADDITION",
                    "kind": "METHOD_ADDED_TO_INTERFACE"
                },
                {
                    "element": "org.eclipse.jetty.server.nio.SelectChannelConnector",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "47b2ff33-9caa-5b30-bae1-0723fc28d9e7"
        },
        {
            "line_number": 37,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[37,26] error: cannot find symbol",
            "additional_info": "  symbol:   method setPort(int)\n  location: variable httpConnector of type Connector",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [
                {
                    "element": "org.eclipse.jetty.server.Connector.setPort",
                    "nature": "DELETION",
                    "kind": "METHOD_REMOVED"
                },
                {
                    "element": "org.eclipse.jetty.server.Connector",
                    "nature": "ADDITION",
                    "kind": "METHOD_ADDED_TO_INTERFACE"
                }
            ],
            "Additions": [
                "++ public void org.eclipse.jetty.server.AbstractNetworkConnector.setPort(int)"
            ],
            "uid": "256e16ee-3826-5cee-9b31-862e51e9f7ee"
        },
        {
            "line_number": 80,
            "message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[80,28] error: cannot find symbol",
            "additional_info": "  symbol:   method getLocalPort()\n  location: variable httpConnector of type Connector",
            "file_name": "JettyStubHttpServer.java",
            "BCs": [
                {
                    "element": "org.eclipse.jetty.server.LocalConnector.getLocalPort",
                    "nature": "DELETION",
                    "kind": "METHOD_REMOVED"
                },
                {
                    "element": "org.eclipse.jetty.server.Connector.getLocalPort",
                    "nature": "DELETION",
                    "kind": "METHOD_REMOVED"
                },
                {
                    "element": "org.eclipse.jetty.server.Connector",
                    "nature": "ADDITION",
                    "kind": "METHOD_ADDED_TO_INTERFACE"
                }
            ],
            "Additions": [
                "++ public int org.eclipse.jetty.server.AbstractNetworkConnector.getLocalPort()",
                "++ public int org.eclipse.jetty.server.AbstractNetworkConnector.getLocalPort()",
                "++ public int org.eclipse.jetty.server.HttpChannel.getLocalPort()",
                "++ public int org.eclipse.jetty.server.HttpChannel.getLocalPort()",
                "++ public abstract int org.eclipse.jetty.server.NetworkConnector.getLocalPort()",
                "++ public abstract int org.eclipse.jetty.server.NetworkConnector.getLocalPort()",
                "++ public int org.eclipse.jetty.server.ServerConnector.getLocalPort()",
                "++ public int org.eclipse.jetty.server.ServerConnector.getLocalPort()"
            ],
            "uid": "c61df1bb-5e2a-5260-b0ec-42a86389de55"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * Copyright (c) 2012 - 2016 Jadler contributors\n * This program is made available under the terms of the MIT License.\n */\npackage net.jadler.stubbing.server.jetty;\n\nimport net.jadler.RequestManager;\nimport net.jadler.stubbing.server.StubHttpServer;\nimport org.apache.commons.lang.Validate;\nimport org.eclipse.jetty.server.Connector;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.nio.SelectChannelConnector;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n\n/**\n * Default stub http server implementation using Jetty as an http server.\n */\npublic class JettyStubHttpServer implements StubHttpServer {\n\n    private static final Logger logger = LoggerFactory.getLogger(JettyStubHttpServer.class);\n    private final Server server;\n    private final Connector httpConnector;\n\n    public JettyStubHttpServer() {\n        this(0);\n    }\n\n\n    public JettyStubHttpServer(final int port) {\n        this.server = new Server();\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n\n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        server.addConnector(this.httpConnector);\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void registerRequestManager(final RequestManager ruleProvider) {\n        Validate.notNull(ruleProvider, \"ruleProvider cannot be null\");\n\n        server.setHandler(new JadlerHandler(ruleProvider));\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void start() throws Exception {\n        logger.debug(\"starting jetty\");\n        server.start();\n        logger.debug(\"jetty started\");\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void stop() throws Exception {\n        logger.debug(\"stopping jetty\");\n        server.stop();\n        logger.debug(\"jetty stopped\");\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public int getPort() {\n        return httpConnector.getLocalPort();\n    }\n}\n'''\nThe error is caused by a change in the API of the dependency: jetty-server 8.1.11.v20130520->11.0.10. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n~~ SUPERTYPE_REMOVED <- org.eclipse.jetty.server.Request\n++ METHOD_ADDED_TO_INTERFACE <- org.eclipse.jetty.server.Connector\n-- org.eclipse.jetty.server.nio.SelectChannelConnector\n-- org.eclipse.jetty.server.Connector.setPort\n-- org.eclipse.jetty.server.LocalConnector.getLocalPort\n-- org.eclipse.jetty.server.Connector.getLocalPort\n++ public int org.eclipse.jetty.server.HttpChannel.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendDateHeader(boolean)\n++ public int org.eclipse.jetty.server.AbstractNetworkConnector.getLocalPort()\n++ public Request org.eclipse.jetty.server.Request(org.eclipse.jetty.server.HttpChannel,org.eclipse.jetty.server.HttpInput)\n++ public abstract int org.eclipse.jetty.server.NetworkConnector.getLocalPort()\n++ public int org.eclipse.jetty.server.ServerConnector.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendServerVersion(boolean)\n++ public void org.eclipse.jetty.server.AbstractNetworkConnector.setPort(int)\n\nThe error is triggered in the following specific lines in the previous code:\nimport org.eclipse.jetty.server.nio.SelectChannelConnector;\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        return httpConnector.getLocalPort();\nwith the following error message:\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[12,35] error: package org.eclipse.jetty.server.nio does not exist[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JadlerHandler.java:[25] error: JadlerHandler is not abstract and does not override abstract method handle(String,Request,HttpServletRequest,HttpServletResponse) in AbstractHandler\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[33,19] error: cannot find symbol  symbol:   method setSendServerVersion(boolean)\n  location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[34,19] error: cannot find symbol  symbol:   method setSendDateHeader(boolean)\n  location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[36,33] error: cannot find symbol  symbol:   class SelectChannelConnector\n  location: class JettyStubHttpServer\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[37,26] error: cannot find symbol  symbol:   method setPort(int)\n  location: variable httpConnector of type Connector\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[80,28] error: cannot find symbol  symbol:   method getLocalPort()\n  location: variable httpConnector of type Connector\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import org.eclipse.jetty.server.nio.SelectChannelConnector;\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        return httpConnector.getLocalPort();",
    "error_message": "[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[12,35] error: package org.eclipse.jetty.server.nio does not exist[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JadlerHandler.java:[25] error: JadlerHandler is not abstract and does not override abstract method handle(String,Request,HttpServletRequest,HttpServletResponse) in AbstractHandler\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[33,19] error: cannot find symbol  symbol:   method setSendServerVersion(boolean)\n  location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[34,19] error: cannot find symbol  symbol:   method setSendDateHeader(boolean)\n  location: variable server of type Server\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[36,33] error: cannot find symbol  symbol:   class SelectChannelConnector\n  location: class JettyStubHttpServer\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[37,26] error: cannot find symbol  symbol:   method setPort(int)\n  location: variable httpConnector of type Connector\n[ERROR] /jadler/jadler-jetty/src/main/java/net/jadler/stubbing/server/jetty/JettyStubHttpServer.java:[80,28] error: cannot find symbol  symbol:   method getLocalPort()\n  location: variable httpConnector of type Connector",
    "api_diff": "~~ SUPERTYPE_REMOVED <- org.eclipse.jetty.server.Request\n++ METHOD_ADDED_TO_INTERFACE <- org.eclipse.jetty.server.Connector\n-- org.eclipse.jetty.server.nio.SelectChannelConnector\n-- org.eclipse.jetty.server.Connector.setPort\n-- org.eclipse.jetty.server.LocalConnector.getLocalPort\n-- org.eclipse.jetty.server.Connector.getLocalPort\n++ public int org.eclipse.jetty.server.HttpChannel.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendDateHeader(boolean)\n++ public int org.eclipse.jetty.server.AbstractNetworkConnector.getLocalPort()\n++ public Request org.eclipse.jetty.server.Request(org.eclipse.jetty.server.HttpChannel,org.eclipse.jetty.server.HttpInput)\n++ public abstract int org.eclipse.jetty.server.NetworkConnector.getLocalPort()\n++ public int org.eclipse.jetty.server.ServerConnector.getLocalPort()\n++ public void org.eclipse.jetty.server.HttpConfiguration.setSendServerVersion(boolean)\n++ public void org.eclipse.jetty.server.AbstractNetworkConnector.setPort(int)",
    "original_code": "/*\n * Copyright (c) 2012 - 2016 Jadler contributors\n * This program is made available under the terms of the MIT License.\n */\npackage net.jadler.stubbing.server.jetty;\n\nimport net.jadler.RequestManager;\nimport net.jadler.stubbing.server.StubHttpServer;\nimport org.apache.commons.lang.Validate;\nimport org.eclipse.jetty.server.Connector;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.nio.SelectChannelConnector;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n\n/**\n * Default stub http server implementation using Jetty as an http server.\n */\npublic class JettyStubHttpServer implements StubHttpServer {\n\n    private static final Logger logger = LoggerFactory.getLogger(JettyStubHttpServer.class);\n    private final Server server;\n    private final Connector httpConnector;\n\n    public JettyStubHttpServer() {\n        this(0);\n    }\n\n\n    public JettyStubHttpServer(final int port) {\n        this.server = new Server();\n        this.server.setSendServerVersion(false);\n        this.server.setSendDateHeader(true);\n\n        this.httpConnector = new SelectChannelConnector();\n        this.httpConnector.setPort(port);\n        server.addConnector(this.httpConnector);\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void registerRequestManager(final RequestManager ruleProvider) {\n        Validate.notNull(ruleProvider, \"ruleProvider cannot be null\");\n\n        server.setHandler(new JadlerHandler(ruleProvider));\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void start() throws Exception {\n        logger.debug(\"starting jetty\");\n        server.start();\n        logger.debug(\"jetty started\");\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void stop() throws Exception {\n        logger.debug(\"stopping jetty\");\n        server.stop();\n        logger.debug(\"jetty stopped\");\n    }\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public int getPort() {\n        return httpConnector.getLocalPort();\n    }\n}",
    "project": "jadler",
    "libraryName": "jetty-server",
    "libraryGroupID": "org.eclipse.jetty",
    "newVersion": "11.0.10",
    "previousVersion": "8.1.11.v20130520",
    "breakingCommit": "0e8625f492854a78c0e1ceff67b2abd7e081d42b"
}