{
    "absolute_path_to_file_in_container": "/license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java",
    "errors": [
        {
            "line_number": 19,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[19,45] package org.apache.maven.plugin.testing.stubs does not exist",
            "additional_info": "",
            "file_name": "HeaderMojoTest.java",
            "BCs": [],
            "Additions": [],
            "uid": "864e8720-cfae-501b-a25a-10992f571ce8"
        },
        {
            "line_number": 29,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[29,5] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 39,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[39,5] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 51,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[51,5] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 63,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[63,5] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 76,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[76,5] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 88,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[88,5] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 100,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[100,11] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 114,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[114,11] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 128,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[128,11] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 143,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[143,11] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        },
        {
            "line_number": 157,
            "message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[157,11] cannot find symbol",
            "additional_info": "  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
            "file_name": "HeaderMojoTest.java",
            "BCs": [
                {
                    "element": "org.apache.maven.plugin.testing.stubs.MavenProjectStub",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [],
            "uid": "c2cd4789-1947-545b-bab9-0c04a86adac1"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/**\n * Copyright (C) 2008 Mycila (mathieu.carbou@gmail.com)\n * <p>\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * <p>\n * http://www.apache.org/licenses/LICENSE-2.0\n * <p>\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\npackage com.mycila.maven.plugin.license;\n\nimport com.mycila.maven.plugin.license.util.FileUtils;\nimport org.apache.maven.plugin.testing.stubs.MavenProjectStub;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.File;\nimport java.nio.charset.StandardCharsets;\n\nclass HeaderMojoTest {\n\n  @Test\n  void test_create() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/main/resources/check\");\n    check.project = project;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_relative_file() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"header.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_absolute_file() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"src/test/resources/check/header.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_project_classpath() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    project.addCompileSourceRoot(\"src/test/resources/check/cp\");\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"header-in-cp.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_plugin_classpath() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"test-header1.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_inlineHeader() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigInlineHeader = FileUtils.read(new File(\"src/test/resources/check/header.txt\"), StandardCharsets.UTF_8);\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_relative_file() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"header.txt\", \"header2.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_absolute_file() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"src/test/resources/check/header.txt\", \"src/test/resources/check/header2.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_project_classpath() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    project.addCompileSourceRoot(\"src/test/resources/check/cp\");\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"header-in-cp.txt\", \"header-in-cp.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_plugin_classpath() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"test-header1.txt\", \"test-header2.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_multi_inlineHeader() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setInlineHeaders(new String[]{\n        FileUtils.read(new File(\"src/test/resources/check/header.txt\"), StandardCharsets.UTF_8),\n        FileUtils.read(new File(\"src/test/resources/check/header2.txt\"), StandardCharsets.UTF_8)\n    });\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n}\n\n'''\nThe error is caused by a change in the API of the dependency: maven-plugin-testing-harness 4.0.0-alpha-2->4.0.0-beta-4. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- org.apache.maven.plugin.testing.stubs.MavenProjectStub\n-- org.apache.maven.plugin.testing.stubs.ArtifactStub\n\nThe error is triggered in the following specific lines in the previous code:\nimport org.apache.maven.plugin.testing.stubs.MavenProjectStub;\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\nwith the following error message:\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[19,45] package org.apache.maven.plugin.testing.stubs does not exist\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[29,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[39,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[51,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[63,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[76,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[88,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[100,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[114,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[128,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[143,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[157,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import org.apache.maven.plugin.testing.stubs.MavenProjectStub;\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();\n    final MavenProjectStub project = new MavenProjectStub();",
    "error_message": "[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[19,45] package org.apache.maven.plugin.testing.stubs does not exist\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[29,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[39,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[51,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[63,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[76,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[88,5] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[100,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[114,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[128,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[143,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest\n[ERROR] /license-maven-plugin/license-maven-plugin/src/test/java/com/mycila/maven/plugin/license/HeaderMojoTest.java:[157,11] cannot find symbol  symbol:   class MavenProjectStub\n  location: class com.mycila.maven.plugin.license.HeaderMojoTest",
    "api_diff": "-- org.apache.maven.plugin.testing.stubs.MavenProjectStub\n-- org.apache.maven.plugin.testing.stubs.ArtifactStub",
    "original_code": "/**\n * Copyright (C) 2008 Mycila (mathieu.carbou@gmail.com)\n * <p>\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * <p>\n * http://www.apache.org/licenses/LICENSE-2.0\n * <p>\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\npackage com.mycila.maven.plugin.license;\n\nimport com.mycila.maven.plugin.license.util.FileUtils;\nimport org.apache.maven.plugin.testing.stubs.MavenProjectStub;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.File;\nimport java.nio.charset.StandardCharsets;\n\nclass HeaderMojoTest {\n\n  @Test\n  void test_create() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/main/resources/check\");\n    check.project = project;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_relative_file() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"header.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_absolute_file() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"src/test/resources/check/header.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_project_classpath() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    project.addCompileSourceRoot(\"src/test/resources/check/cp\");\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"header-in-cp.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_header_from_plugin_classpath() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigHeader = \"test-header1.txt\";\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_inlineHeader() throws Exception {\n    MavenProjectStub project = new MavenProjectStub();\n    LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    check.legacyConfigInlineHeader = FileUtils.read(new File(\"src/test/resources/check/header.txt\"), StandardCharsets.UTF_8);\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_relative_file() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"header.txt\", \"header2.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_absolute_file() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"src/test/resources/check/header.txt\", \"src/test/resources/check/header2.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_project_classpath() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    project.addCompileSourceRoot(\"src/test/resources/check/cp\");\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"header-in-cp.txt\", \"header-in-cp.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_load_multi_headers_from_plugin_classpath() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setHeaders(new String[]{\"test-header1.txt\", \"test-header2.txt\"});\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n  @Test\n  void test_multi_inlineHeader() throws Exception {\n    final MavenProjectStub project = new MavenProjectStub();\n    final LicenseCheckMojo check = new LicenseCheckMojo();\n    check.defaultBasedir = new File(\"src/test/resources/check\");\n    final Multi multi = new Multi();\n    multi.setInlineHeaders(new String[]{\n        FileUtils.read(new File(\"src/test/resources/check/header.txt\"), StandardCharsets.UTF_8),\n        FileUtils.read(new File(\"src/test/resources/check/header2.txt\"), StandardCharsets.UTF_8)\n    });\n    check.legacyConfigMulti = multi;\n    check.project = project;\n    check.failIfMissing = false;\n    check.strictCheck = true;\n    check.execute();\n  }\n\n}\n",
    "project": "license-maven-plugin",
    "libraryName": "maven-plugin-testing-harness",
    "libraryGroupID": "org.apache.maven.plugin-testing",
    "newVersion": "4.0.0-beta-4",
    "previousVersion": "4.0.0-alpha-2",
    "breakingCommit": "fb038ef3a078e45abab4ecc6728a3d0d89bbe01f"
}