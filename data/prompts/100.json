{
    "absolute_path_to_file_in_container": "/java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java",
    "errors": [
        {
            "line_number": 28,
            "message": "[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[28,25] cannot find symbol",
            "additional_info": "  symbol:   class ECKey\n  location: package org.bitcoinj.core",
            "file_name": "BitPayClient.java",
            "BCs": [
                {
                    "element": "org.bitcoinj.core.ECKey",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)"
            ],
            "uid": "b695ce04-3522-5a71-933d-54ad6a88e4b0"
        },
        {
            "line_number": 38,
            "message": "[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[38,19] cannot find symbol",
            "additional_info": "  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient",
            "file_name": "BitPayClient.java",
            "BCs": [
                {
                    "element": "org.bitcoinj.core.ECKey",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)"
            ],
            "uid": "99f0254b-24f0-5dc2-b1ae-6ad5e61ba9ea"
        },
        {
            "line_number": 53,
            "message": "[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[53,15] cannot find symbol",
            "additional_info": "  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient",
            "file_name": "BitPayClient.java",
            "BCs": [
                {
                    "element": "org.bitcoinj.core.ECKey",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)"
            ],
            "uid": "99f0254b-24f0-5dc2-b1ae-6ad5e61ba9ea"
        },
        {
            "line_number": 74,
            "message": "[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[74,15] cannot find symbol",
            "additional_info": "  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient",
            "file_name": "BitPayClient.java",
            "BCs": [
                {
                    "element": "org.bitcoinj.core.ECKey",
                    "nature": "DELETION",
                    "kind": "TYPE_REMOVED"
                }
            ],
            "Additions": [
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ public null org.bitcoinj.crypto.ECKey",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ public ECKey org.bitcoinj.crypto.ECKey()",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)",
                "++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)"
            ],
            "uid": "99f0254b-24f0-5dc2-b1ae-6ad5e61ba9ea"
        }
    ],
    "prompt": "\nThe following Java client code fails: \n'''java\n/*\n * Copyright (c) 2019 BitPay.\n * All rights reserved.\n */\n\npackage com.bitpay.sdk.client;\n\nimport com.bitpay.sdk.Config;\nimport com.bitpay.sdk.exceptions.BitPayApiException;\nimport com.bitpay.sdk.exceptions.BitPayExceptionProvider;\nimport com.bitpay.sdk.exceptions.BitPayGenericException;\nimport com.bitpay.sdk.logger.LoggerProvider;\nimport com.bitpay.sdk.util.KeyUtils;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpDelete;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.methods.HttpPut;\nimport org.apache.http.client.utils.URLEncodedUtils;\nimport org.apache.http.entity.ByteArrayEntity;\nimport org.apache.http.message.AbstractHttpMessage;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.bitcoinj.core.ECKey;\n\n/**\n * The type Bit pay client.\n */\npublic class BitPayClient {\n\n    private final HttpClient httpClient;\n    private final HttpRequestFactory httpRequestFactory;\n    private final String baseUrl;\n    private final ECKey ecKey;\n    private String platformInfo = null;\n\n    /**\n     * Instantiates a new Bit pay client.\n     *\n     * @param httpClient         the http client\n     * @param httpRequestFactory the http request factory\n     * @param baseUrl            the base url\n     * @param ecKey              the ECKey\n     */\n    public BitPayClient(\n        final HttpClient httpClient,\n        final HttpRequestFactory httpRequestFactory,\n        final String baseUrl,\n        final ECKey ecKey\n    ) {\n        this.httpClient = httpClient;\n        this.baseUrl = baseUrl;\n        this.httpRequestFactory = httpRequestFactory;\n        this.ecKey = ecKey;\n    }\n\n    /**\n     * Instantiates a new Bit pay client.\n     *\n     * @param httpClient         the http client\n     * @param httpRequestFactory the http request factory\n     * @param baseUrl            the base url\n     * @param ecKey              the ECKey\n     * @param platformInfo       the Platform Info\n     */\n    public BitPayClient(\n        final HttpClient httpClient,\n        final HttpRequestFactory httpRequestFactory,\n        final String baseUrl,\n        final ECKey ecKey,\n        final String platformInfo\n    ) {\n        this.httpClient = httpClient;\n        this.baseUrl = baseUrl;\n        this.httpRequestFactory = httpRequestFactory;\n        this.ecKey = ecKey;\n        this.platformInfo = platformInfo;\n    }\n\n    /**\n     * Send GET request.\n     *\n     * @param uri        the uri\n     * @param parameters the parameters\n     * @return the http response\n     * @throws BitPayGenericException BitPayGenericException class\n     * @throws BitPayApiException BitPayApiException class\n     */\n    public HttpResponse get(\n        final String uri,\n        final List<BasicNameValuePair> parameters\n    ) throws BitPayApiException, BitPayGenericException {\n        return get(uri, parameters, true);\n    }\n\n    /**\n     * Send GET request.\n     *\n     * @param uri               the uri\n     * @param parameters        the parameters\n     * @param signatureRequired the signature required\n     * @return the json http response\n     * @throws BitPayGenericException BitPayGenericException\n     * @throws BitPayApiException BitPayApiException\n     */\n    public HttpResponse get(\n        final String uri,\n        final List<BasicNameValuePair> parameters,\n        final boolean signatureRequired\n    ) throws BitPayApiException, BitPayGenericException {\n        try {\n            String fullUrl = this.baseUrl + uri;\n            final HttpGet httpGet = this.httpRequestFactory.createHttpGet(fullUrl);\n\n            if (parameters != null) {\n                fullUrl += \"?\" + URLEncodedUtils.format(parameters, \"UTF-8\");\n                httpGet.setURI(new URI(fullUrl));\n            }\n\n            this.addDefaultHeaders(httpGet);\n            if (signatureRequired) {\n                this.addSignatureRequiredHeaders(httpGet, fullUrl);\n            }\n\n            LoggerProvider.getLogger().logRequest(HttpGet.METHOD_NAME, fullUrl, null);\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpGet));\n\n            LoggerProvider.getLogger().logResponse(HttpGet.METHOD_NAME, fullUrl, response.getBody());\n\n            return response;\n        } catch (IOException | URISyntaxException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    /**\n     * Send GET request.\n     *\n     * @param uri the uri\n     * @return json http response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse get(final String uri) throws BitPayApiException, BitPayGenericException {\n        return this.get(uri, null, false);\n    }\n\n    /**\n     * Send DELETE request.\n     *\n     * @param uri        the uri\n     * @param parameters the parameters\n     * @return json http response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse delete(\n        final String uri,\n        final List<BasicNameValuePair> parameters\n    ) throws BitPayApiException, BitPayGenericException {\n        try {\n            String fullUrl = this.baseUrl + uri;\n            final HttpDelete httpDelete = this.httpRequestFactory.createHttpDelete(fullUrl);\n\n            if (parameters != null) {\n                fullUrl += \"?\" + URLEncodedUtils.format(parameters, \"UTF-8\");\n                httpDelete.setURI(new URI(fullUrl));\n            }\n\n            this.addDefaultHeaders(httpDelete);\n            this.addSignatureRequiredHeaders(httpDelete, fullUrl);\n\n            LoggerProvider.getLogger().logRequest(HttpDelete.METHOD_NAME, fullUrl, null);\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpDelete));\n\n            LoggerProvider.getLogger().logResponse(HttpDelete.METHOD_NAME, fullUrl, response.getBody());\n\n            return response;\n        } catch (IOException | URISyntaxException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    /**\n     * Send POST request.\n     *\n     * @param uri  the uri\n     * @param json the json\n     * @return the json http response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse post(\n        final String uri,\n        final String json\n    ) throws BitPayApiException, BitPayGenericException {\n        return this.post(uri, json, false);\n    }\n\n    /**\n     * Send POST request.\n     *\n     * @param uri               the uri\n     * @param json              the json\n     * @param signatureRequired the signature required\n     * @return json response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse post(\n        final String uri,\n        final String json,\n        final boolean signatureRequired\n    ) throws BitPayApiException, BitPayGenericException {\n        try {\n            final String endpoint = this.baseUrl + uri;\n            final HttpPost httpPost = this.httpRequestFactory.createHttpPost(endpoint);\n            httpPost.setEntity(new ByteArrayEntity(json.getBytes(StandardCharsets.UTF_8)));\n\n            this.addDefaultHeaders(httpPost);\n            httpPost.addHeader(\"Content-Type\", \"application/json\");\n            if (signatureRequired) {\n                this.addSignatureRequiredHeaders(httpPost, endpoint + json);\n            }\n\n            LoggerProvider.getLogger().logRequest(HttpPost.METHOD_NAME, endpoint, httpPost.toString());\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpPost));\n\n            LoggerProvider.getLogger().logResponse(HttpGet.METHOD_NAME, endpoint, response.getBody());\n\n            return response;\n        } catch (IOException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    /**\n     * Send PUT request.\n     *\n     * @param uri  the uri\n     * @param json the json\n     * @return json response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse update(\n        final String uri,\n        final String json\n    ) throws BitPayApiException, BitPayGenericException {\n        String jsonResponse = null;\n\n        try {\n            final String endpoint = this.baseUrl + uri;\n            final HttpPut httpPut = this.httpRequestFactory.createHttpPut(endpoint);\n\n            httpPut.setEntity(new ByteArrayEntity(json.getBytes(StandardCharsets.UTF_8)));\n\n            this.addDefaultHeaders(httpPut);\n            httpPut.addHeader(\"Content-Type\", \"application/json\");\n            this.addSignatureRequiredHeaders(httpPut, endpoint + json);\n\n            LoggerProvider.getLogger().logRequest(HttpPut.METHOD_NAME, endpoint, httpPut.toString());\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpPut));\n\n            LoggerProvider.getLogger().logResponse(HttpPut.METHOD_NAME, endpoint, response.getBody());\n\n            return response;\n        } catch (IOException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    private void addDefaultHeaders(AbstractHttpMessage httpMessage) {\n        httpMessage.addHeader(\"x-accept-version\", Config.BITPAY_API_VERSION);\n        httpMessage.addHeader(\"x-bitpay-api-frame\", Config.BITPAY_API_FRAME);\n        httpMessage.addHeader(\"x-bitpay-api-frame-version\", Config.BITPAY_API_FRAME_VERSION);\n        httpMessage.addHeader(\"X-BitPay-Plugin-Info\", Config.BITPAY_PLUGIN_INFO);\n        if (this.platformInfo != null && !this.platformInfo.isEmpty()) {\n            httpMessage.addHeader(\"x-bitPay-platform-info\", this.platformInfo);\n        }\n    }\n\n    private void addSignatureRequiredHeaders(AbstractHttpMessage httpMessage, String uri)\n        throws BitPayGenericException {\n        httpMessage.addHeader(\"x-signature\", KeyUtils.sign(this.ecKey, uri));\n        httpMessage.addHeader(\"x-identity\", KeyUtils.bytesToHex(this.ecKey.getPubKey()));\n    }\n}\n\n'''\nThe error is caused by a change in the API of the dependency: bitcoinj-core 0.16.3->0.17. \nThe new library version includes the following relevant backward incompatible changes on API. \n(API changes format: lines starting with '--' denote removed members, '++' denote added ones, '~~' denote mutations with change kind) \n-- org.bitcoinj.core.ECKey\n-- org.bitcoinj.core.Base58\n-- org.bitcoinj.core.Sha256Hash\n++ public null org.bitcoinj.base.Sha256Hash\n++ public ECKey org.bitcoinj.crypto.ECKey()\n++ public Base58 org.bitcoinj.base.Base58()\n++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)\n++ public null org.bitcoinj.crypto.ECKey\n++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)\n++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)\n\nThe error is triggered in the following specific lines in the previous code:\nimport org.bitcoinj.core.ECKey;\n    private final ECKey ecKey;\n        final ECKey ecKey\n        final ECKey ecKey,\nwith the following error message:\n[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[28,25] cannot find symbol  symbol:   class ECKey\n  location: package org.bitcoinj.core\n[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[38,19] cannot find symbol  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient\n[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[53,15] cannot find symbol  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient\n[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[74,15] cannot find symbol  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient\n\nPlease apply your reasoning and generate the fix following the system instruction.\n",
    "buggy_lines": "import org.bitcoinj.core.ECKey;\n    private final ECKey ecKey;\n        final ECKey ecKey\n        final ECKey ecKey,",
    "error_message": "[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[28,25] cannot find symbol  symbol:   class ECKey\n  location: package org.bitcoinj.core\n[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[38,19] cannot find symbol  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient\n[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[53,15] cannot find symbol  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient\n[ERROR] /java-bitpay-client/src/main/java/com/bitpay/sdk/client/BitPayClient.java:[74,15] cannot find symbol  symbol:   class ECKey\n  location: class com.bitpay.sdk.client.BitPayClient",
    "api_diff": "-- org.bitcoinj.core.ECKey\n-- org.bitcoinj.core.Base58\n-- org.bitcoinj.core.Sha256Hash\n++ public null org.bitcoinj.base.Sha256Hash\n++ public ECKey org.bitcoinj.crypto.ECKey()\n++ public Base58 org.bitcoinj.base.Base58()\n++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bouncycastle.math.ec.ECPoint,boolean)\n++ public null org.bitcoinj.crypto.ECKey\n++ public ECKey org.bitcoinj.crypto.ECKey(java.security.SecureRandom)\n++ protected ECKey org.bitcoinj.crypto.ECKey(java.math.BigInteger,org.bitcoinj.crypto.LazyECPoint)",
    "original_code": "/*\n * Copyright (c) 2019 BitPay.\n * All rights reserved.\n */\n\npackage com.bitpay.sdk.client;\n\nimport com.bitpay.sdk.Config;\nimport com.bitpay.sdk.exceptions.BitPayApiException;\nimport com.bitpay.sdk.exceptions.BitPayExceptionProvider;\nimport com.bitpay.sdk.exceptions.BitPayGenericException;\nimport com.bitpay.sdk.logger.LoggerProvider;\nimport com.bitpay.sdk.util.KeyUtils;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpDelete;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.methods.HttpPut;\nimport org.apache.http.client.utils.URLEncodedUtils;\nimport org.apache.http.entity.ByteArrayEntity;\nimport org.apache.http.message.AbstractHttpMessage;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.bitcoinj.core.ECKey;\n\n/**\n * The type Bit pay client.\n */\npublic class BitPayClient {\n\n    private final HttpClient httpClient;\n    private final HttpRequestFactory httpRequestFactory;\n    private final String baseUrl;\n    private final ECKey ecKey;\n    private String platformInfo = null;\n\n    /**\n     * Instantiates a new Bit pay client.\n     *\n     * @param httpClient         the http client\n     * @param httpRequestFactory the http request factory\n     * @param baseUrl            the base url\n     * @param ecKey              the ECKey\n     */\n    public BitPayClient(\n        final HttpClient httpClient,\n        final HttpRequestFactory httpRequestFactory,\n        final String baseUrl,\n        final ECKey ecKey\n    ) {\n        this.httpClient = httpClient;\n        this.baseUrl = baseUrl;\n        this.httpRequestFactory = httpRequestFactory;\n        this.ecKey = ecKey;\n    }\n\n    /**\n     * Instantiates a new Bit pay client.\n     *\n     * @param httpClient         the http client\n     * @param httpRequestFactory the http request factory\n     * @param baseUrl            the base url\n     * @param ecKey              the ECKey\n     * @param platformInfo       the Platform Info\n     */\n    public BitPayClient(\n        final HttpClient httpClient,\n        final HttpRequestFactory httpRequestFactory,\n        final String baseUrl,\n        final ECKey ecKey,\n        final String platformInfo\n    ) {\n        this.httpClient = httpClient;\n        this.baseUrl = baseUrl;\n        this.httpRequestFactory = httpRequestFactory;\n        this.ecKey = ecKey;\n        this.platformInfo = platformInfo;\n    }\n\n    /**\n     * Send GET request.\n     *\n     * @param uri        the uri\n     * @param parameters the parameters\n     * @return the http response\n     * @throws BitPayGenericException BitPayGenericException class\n     * @throws BitPayApiException BitPayApiException class\n     */\n    public HttpResponse get(\n        final String uri,\n        final List<BasicNameValuePair> parameters\n    ) throws BitPayApiException, BitPayGenericException {\n        return get(uri, parameters, true);\n    }\n\n    /**\n     * Send GET request.\n     *\n     * @param uri               the uri\n     * @param parameters        the parameters\n     * @param signatureRequired the signature required\n     * @return the json http response\n     * @throws BitPayGenericException BitPayGenericException\n     * @throws BitPayApiException BitPayApiException\n     */\n    public HttpResponse get(\n        final String uri,\n        final List<BasicNameValuePair> parameters,\n        final boolean signatureRequired\n    ) throws BitPayApiException, BitPayGenericException {\n        try {\n            String fullUrl = this.baseUrl + uri;\n            final HttpGet httpGet = this.httpRequestFactory.createHttpGet(fullUrl);\n\n            if (parameters != null) {\n                fullUrl += \"?\" + URLEncodedUtils.format(parameters, \"UTF-8\");\n                httpGet.setURI(new URI(fullUrl));\n            }\n\n            this.addDefaultHeaders(httpGet);\n            if (signatureRequired) {\n                this.addSignatureRequiredHeaders(httpGet, fullUrl);\n            }\n\n            LoggerProvider.getLogger().logRequest(HttpGet.METHOD_NAME, fullUrl, null);\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpGet));\n\n            LoggerProvider.getLogger().logResponse(HttpGet.METHOD_NAME, fullUrl, response.getBody());\n\n            return response;\n        } catch (IOException | URISyntaxException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    /**\n     * Send GET request.\n     *\n     * @param uri the uri\n     * @return json http response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse get(final String uri) throws BitPayApiException, BitPayGenericException {\n        return this.get(uri, null, false);\n    }\n\n    /**\n     * Send DELETE request.\n     *\n     * @param uri        the uri\n     * @param parameters the parameters\n     * @return json http response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse delete(\n        final String uri,\n        final List<BasicNameValuePair> parameters\n    ) throws BitPayApiException, BitPayGenericException {\n        try {\n            String fullUrl = this.baseUrl + uri;\n            final HttpDelete httpDelete = this.httpRequestFactory.createHttpDelete(fullUrl);\n\n            if (parameters != null) {\n                fullUrl += \"?\" + URLEncodedUtils.format(parameters, \"UTF-8\");\n                httpDelete.setURI(new URI(fullUrl));\n            }\n\n            this.addDefaultHeaders(httpDelete);\n            this.addSignatureRequiredHeaders(httpDelete, fullUrl);\n\n            LoggerProvider.getLogger().logRequest(HttpDelete.METHOD_NAME, fullUrl, null);\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpDelete));\n\n            LoggerProvider.getLogger().logResponse(HttpDelete.METHOD_NAME, fullUrl, response.getBody());\n\n            return response;\n        } catch (IOException | URISyntaxException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    /**\n     * Send POST request.\n     *\n     * @param uri  the uri\n     * @param json the json\n     * @return the json http response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse post(\n        final String uri,\n        final String json\n    ) throws BitPayApiException, BitPayGenericException {\n        return this.post(uri, json, false);\n    }\n\n    /**\n     * Send POST request.\n     *\n     * @param uri               the uri\n     * @param json              the json\n     * @param signatureRequired the signature required\n     * @return json response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse post(\n        final String uri,\n        final String json,\n        final boolean signatureRequired\n    ) throws BitPayApiException, BitPayGenericException {\n        try {\n            final String endpoint = this.baseUrl + uri;\n            final HttpPost httpPost = this.httpRequestFactory.createHttpPost(endpoint);\n            httpPost.setEntity(new ByteArrayEntity(json.getBytes(StandardCharsets.UTF_8)));\n\n            this.addDefaultHeaders(httpPost);\n            httpPost.addHeader(\"Content-Type\", \"application/json\");\n            if (signatureRequired) {\n                this.addSignatureRequiredHeaders(httpPost, endpoint + json);\n            }\n\n            LoggerProvider.getLogger().logRequest(HttpPost.METHOD_NAME, endpoint, httpPost.toString());\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpPost));\n\n            LoggerProvider.getLogger().logResponse(HttpGet.METHOD_NAME, endpoint, response.getBody());\n\n            return response;\n        } catch (IOException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    /**\n     * Send PUT request.\n     *\n     * @param uri  the uri\n     * @param json the json\n     * @return json response\n     * @throws BitPayApiException BitPayApiException\n     * @throws BitPayGenericException BitPayGenericException\n     */\n    public HttpResponse update(\n        final String uri,\n        final String json\n    ) throws BitPayApiException, BitPayGenericException {\n        String jsonResponse = null;\n\n        try {\n            final String endpoint = this.baseUrl + uri;\n            final HttpPut httpPut = this.httpRequestFactory.createHttpPut(endpoint);\n\n            httpPut.setEntity(new ByteArrayEntity(json.getBytes(StandardCharsets.UTF_8)));\n\n            this.addDefaultHeaders(httpPut);\n            httpPut.addHeader(\"Content-Type\", \"application/json\");\n            this.addSignatureRequiredHeaders(httpPut, endpoint + json);\n\n            LoggerProvider.getLogger().logRequest(HttpPut.METHOD_NAME, endpoint, httpPut.toString());\n\n            HttpResponse response = HttpResponseProvider.fromApacheHttpResponse(this.httpClient.execute(httpPut));\n\n            LoggerProvider.getLogger().logResponse(HttpPut.METHOD_NAME, endpoint, response.getBody());\n\n            return response;\n        } catch (IOException e) {\n            BitPayExceptionProvider.throwApiExceptionWithMessage(e.getMessage());\n            throw new BitPayApiException(e.getMessage(), null);\n        }\n    }\n\n    private void addDefaultHeaders(AbstractHttpMessage httpMessage) {\n        httpMessage.addHeader(\"x-accept-version\", Config.BITPAY_API_VERSION);\n        httpMessage.addHeader(\"x-bitpay-api-frame\", Config.BITPAY_API_FRAME);\n        httpMessage.addHeader(\"x-bitpay-api-frame-version\", Config.BITPAY_API_FRAME_VERSION);\n        httpMessage.addHeader(\"X-BitPay-Plugin-Info\", Config.BITPAY_PLUGIN_INFO);\n        if (this.platformInfo != null && !this.platformInfo.isEmpty()) {\n            httpMessage.addHeader(\"x-bitPay-platform-info\", this.platformInfo);\n        }\n    }\n\n    private void addSignatureRequiredHeaders(AbstractHttpMessage httpMessage, String uri)\n        throws BitPayGenericException {\n        httpMessage.addHeader(\"x-signature\", KeyUtils.sign(this.ecKey, uri));\n        httpMessage.addHeader(\"x-identity\", KeyUtils.bytesToHex(this.ecKey.getPubKey()));\n    }\n}\n",
    "project": "java-bitpay-client",
    "libraryName": "bitcoinj-core",
    "libraryGroupID": "org.bitcoinj",
    "newVersion": "0.17",
    "previousVersion": "0.16.3",
    "breakingCommit": "de0a83ba9708170ae984b049781321f04caa82b3"
}